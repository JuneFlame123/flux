(globalThis["webpackChunkflux"]=globalThis["webpackChunkflux"]||[]).push([[5223],{55223:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>at});var s=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{height:"inherit"}},[t("div",{staticClass:"body-content-overlay",class:{show:e.showDetailSidebar},on:{click:function(t){e.showDetailSidebar=!1}}}),t("div",{staticClass:"marketplace-app-list"},[t("div",{staticClass:"app-fixed-search d-flex align-items-center"},[t("div",{staticClass:"sidebar-toggle d-block d-lg-none ml-1"},[t("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:"MenuIcon",size:"21"},on:{click:function(t){e.showDetailSidebar=!0}}})],1),t("div",{staticClass:"d-flex align-content-center justify-content-between w-100"},[t("b-input-group",{staticClass:"input-group-merge"},[t("b-input-group-prepend",{attrs:{"is-text":""}},[t("feather-icon",{staticClass:"text-muted",attrs:{icon:"SearchIcon"}})],1),t("b-form-input",{attrs:{value:e.searchQuery,placeholder:"Search Marketplace Apps"},on:{input:e.updateRouteQuery}})],1)],1),t("div",{staticClass:"dropdown"},[t("b-dropdown",{attrs:{variant:"link","no-caret":"","toggle-class":"p-0 mr-1",right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("feather-icon",{staticClass:"align-middle text-body",attrs:{icon:"MoreVerticalIcon",size:"16"}})]},proxy:!0}])},[t("b-dropdown-item",{on:{click:e.resetSortAndNavigate}},[e._v(" Reset Sort ")]),t("b-dropdown-item",{attrs:{to:{name:e.$route.name,query:{...e.$route.query,sort:"title-asc"}}}},[e._v(" Sort A-Z ")]),t("b-dropdown-item",{attrs:{to:{name:e.$route.name,query:{...e.$route.query,sort:"title-desc"}}}},[e._v(" Sort Z-A ")]),t("b-dropdown-item",{attrs:{to:{name:e.$route.name,query:{...e.$route.query,sort:"cpu"}}}},[e._v(" Sort by CPU ")]),t("b-dropdown-item",{attrs:{to:{name:e.$route.name,query:{...e.$route.query,sort:"ram"}}}},[e._v(" Sort by RAM ")]),t("b-dropdown-item",{attrs:{to:{name:e.$route.name,query:{...e.$route.query,sort:"hdd"}}}},[e._v(" Sort by HDD ")]),t("b-dropdown-item",{attrs:{to:{name:e.$route.name,query:{...e.$route.query,sort:"price"}}}},[e._v(" Sort by price ")])],1)],1)]),t("vue-perfect-scrollbar",{ref:"appListRef",staticClass:"marketplace-app-list scroll-area",attrs:{settings:e.perfectScrollbarSettings}},[t("ul",{staticClass:"marketplace-media-list"},e._l(e.filteredApps,(function(a){return t("b-media",{key:a.hash,attrs:{tag:"li","no-body":""},on:{click:function(t){return e.handleAppClick(a)}}},[t("b-media-body",{staticClass:"app-media-body"},[t("div",{staticClass:"app-title-wrapper"},[t("div",{staticClass:"app-title-area"},[t("div",{staticClass:"title-wrapper"},[t("span",{staticClass:"app-title"},[t("kbd",{staticClass:"alert-info no-wrap",staticStyle:{"border-radius":"15px","font-size":"16px","font-weight":"700 !important"}},[t("b-icon",{attrs:{scale:"1.2",icon:"app-indicator"}}),e._v("  "+e._s(a.name)+"  ")],1)])])]),t("div",{staticClass:"app-item-action"},[t("div",{staticClass:"badge-wrapper mr-1"},[a.extraDetail.name?t("b-badge",{staticClass:"text-capitalize",attrs:{pill:"",variant:`light-${e.resolveTagVariant(a.extraDetail)}`}},[e._v(" "+e._s(a.extraDetail.name)+" ")]):e._e()],1),t("div",[a.extraDetail?t("b-avatar",{attrs:{size:"48",variant:`light-${e.resolveAvatarVariant(a.extraDetail)}`}},[t("v-icon",{attrs:{scale:"1.75",name:`${e.resolveAvatarIcon(a.extraDetail)}`}})],1):e._e()],1)])]),t("div",{staticClass:"app-title-area"},[t("div",{staticClass:"title-wrapper"},[t("h6",{staticClass:"text-nowrap text-muted mr-1 mb-1 app-description",staticStyle:{width:"900px"}},[e._v(" "+e._s(a.description)+" ")])])]),t("div",{staticClass:"app-title-area"},[t("div",{staticClass:"title-wrapper"},[t("h6",{staticClass:"text-nowrap text-muted mr-1 app-description"},[e._v("  "),t("b-icon",{attrs:{scale:"1.4",icon:"speedometer2"}}),e._v("  "),t("kbd",{staticClass:"alert-success",staticStyle:{"border-radius":"15px"}},[e._v(" "),t("b",[e._v(e._s(e.resolveCpu(a))+" ")]),e._v(" ")]),e._v("   "),t("b-icon",{attrs:{scale:"1.4",icon:"cpu"}}),e._v("  "),t("kbd",{staticClass:"alert-success",staticStyle:{"border-radius":"15px"}},[e._v(" "),t("b",[e._v(e._s(e.resolveRam(a)))]),e._v(" ")]),e._v("   "),t("b-icon",{attrs:{scale:"1.4",icon:"hdd"}}),e._v("  "),t("kbd",{staticClass:"alert-success",staticStyle:{"border-radius":"15px"}},[e._v(" "),t("b",[e._v(e._s(e.resolveHdd(a))+" GB")]),e._v(" ")]),e._v("  ")],1)])]),a.priceUSD?t("div",{staticClass:"app-title-area"},[t("div",{staticClass:"title-wrapper"},[t("h5",{staticClass:"text-nowrap mr-1 app-description"},[e._v("  "),t("b-icon",{staticClass:"mr-1",attrs:{scale:"1.3",icon:"cash"}}),e._v(e._s(a.priceUSD)+" USD,  "),t("b-icon",{staticClass:"mr-1",attrs:{scale:"1.1",icon:"clock"}}),e._v(e._s(e.adjustPeriod(a))+" ")],1)])]):t("div",{staticClass:"app-title-area"},[t("div",{staticClass:"title-wrapper"},[t("h5",{staticClass:"text-nowrap mr-1 app-description"},[e._v(" Price: "+e._s(a.price)+" Flux / "+e._s(e.adjustPeriod(a))+" ")])])])])],1)})),1),t("div",{staticClass:"no-results",class:{show:0===e.filteredApps.length}},[t("h5",[e._v("No Marketplace Apps Found")])])])],1),t("app-view",{ref:"appViewRef",class:{show:e.isAppViewActive},attrs:{"app-data":e.app,zelid:e.zelid,tier:e.tier,"is-active":e.isAppViewActive},on:{"close-app-view":function(t){e.isAppViewActive=!1}}}),t("shared-nodes-view",{class:{show:e.isSharedNodesViewActive},attrs:{"app-data":e.app,zelid:e.zelid,tier:e.tier},on:{"close-sharednode-view":function(t){e.isSharedNodesViewActive=!1}}}),t("portal",{attrs:{to:"content-renderer-sidebar-left"}},[t("category-sidebar",{class:{show:e.showDetailSidebar},attrs:{zelid:e.zelid},on:{"close-left-sidebar":function(t){e.showDetailSidebar=!1},"close-app-view":function(t){e.isAppViewActive=!1,e.isSharedNodesViewActive=!1},"scroll-app-view":e.scrollAppViewToTop}})],1)],1)},i=[],o=a(22183),n=a(4060),r=a(27754),l=a(31642),c=a(87379),d=a(72775),u=a(68361),p=a(26034),m=a(47389),g=a(20144),v=a(1923),f=a(23646),h=a(6044),b=a(20266),x=a(41905),w=a(34547),y=a(91040),S=a.n(y),C=a(27616),k=a(39055),_=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-details"},[t("div",{staticClass:"app-detail-header"},[t("div",{staticClass:"app-header-left d-flex align-items-center"},[t("span",{staticClass:"go-back mr-1 cursor-pointer"},[t("feather-icon",{staticClass:"align-bottom",attrs:{icon:e.$store.state.appConfig.isRTL?"ChevronRightIcon":"ChevronLeftIcon",size:"20"},on:{click:function(t){return e.$emit("close-app-view")}}})],1),t("h4",{staticClass:"app-name mb-0"},[e._v(" "+e._s(e.appData.name)+" ")])])]),t("vue-perfect-scrollbar",{staticClass:"app-scroll-area scroll-area",attrs:{settings:e.perfectScrollbarSettings}},[t("b-row",{staticClass:"match-height"},[t("b-col",{attrs:{xxl:"9",xl:"8",lg:"8",md:"12"}},[t("br"),e.userZelid?e._e():t("b-card",[t("b-card-title",[e._v("Automated Login")]),t("dl",{staticClass:"row"},[t("dd",{staticClass:"col-sm-6"},[t("b-tabs",{attrs:{"content-class":"mt-0"}},[t("b-tab",{attrs:{title:"3rd Party Login",active:""}},[t("div",{staticClass:"ssoLogin"},[t("div",{attrs:{id:"ssoLoading"}},[t("b-spinner",{attrs:{variant:"primary"}}),t("div",[e._v(" Loading Sign In Options ")])],1),t("div",{staticStyle:{display:"none"},attrs:{id:"ssoLoggedIn"}},[t("b-spinner",{attrs:{variant:"primary"}}),t("div",[e._v(" Finishing Login Process ")])],1),t("div",{staticStyle:{display:"none"},attrs:{id:"ssoVerify"}},[t("b-button",{staticClass:"mb-2",attrs:{variant:"primary",type:"submit"},on:{click:e.cancelVerification}},[e._v(" Cancel Verification ")]),t("div",[t("b-spinner",{attrs:{variant:"primary"}}),t("div",[e._v(" Finishing Verification Process ")]),t("div",[t("i",[e._v("Please check email for verification link.")])])],1)],1),t("div",{attrs:{id:"firebaseui-auth-container"}})])]),t("b-tab",{attrs:{title:"Email/Password"}},[t("dl",{staticClass:"row"},[t("dd",{staticClass:"col-sm-12 mt-1"},[t("b-form",{ref:"emailLoginForm",staticClass:"mx-5",attrs:{id:"emailLoginForm"},on:{submit:function(e){e.preventDefault()}}},[t("b-row",[t("b-col",{attrs:{cols:"12"}},[t("b-form-group",{attrs:{label:"Email","label-for":"h-email","label-cols-md":"4"}},[t("b-form-input",{attrs:{id:"h-email",type:"email",placeholder:"Email...",required:""},model:{value:e.emailForm.email,callback:function(t){e.$set(e.emailForm,"email",t)},expression:"emailForm.email"}})],1)],1),t("b-col",{attrs:{cols:"12"}},[t("b-form-group",{attrs:{label:"Password","label-for":"h-password","label-cols-md":"4"}},[t("b-form-input",{attrs:{id:"h-password",type:"password",placeholder:"Password...",required:""},model:{value:e.emailForm.password,callback:function(t){e.$set(e.emailForm,"password",t)},expression:"emailForm.password"}})],1)],1),t("b-col",{attrs:{cols:"12"}},[t("b-form-group",{attrs:{"label-cols-md":"4"}},[t("b-button",{staticClass:"w-100",attrs:{type:"submit",variant:"primary"},on:{click:e.emailLogin}},[t("div",{staticStyle:{display:"none"},attrs:{id:"emailLoginProcessing"}},[t("b-spinner",{attrs:{variant:"secondary",small:""}})],1),t("div",{attrs:{id:"emailLoginExecute"}},[e._v(" Login ")])])],1)],1),t("b-col",{attrs:{cols:"12"}},[t("b-form-group",{attrs:{"label-cols-md":"4"}},[t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-prevent-closing",modifiers:{"modal-prevent-closing":!0}}],staticClass:"w-100",attrs:{id:"signUpButton",type:"submit",variant:"secondary"},on:{click:e.createAccount}},[e._v(" Sign Up ")])],1)],1)],1)],1),t("div",{staticClass:"text-center",staticStyle:{display:"none"},attrs:{id:"ssoEmailVerify"}},[t("b-button",{staticClass:"mb-2",attrs:{variant:"primary",type:"submit"},on:{click:e.cancelVerification}},[e._v(" Cancel Verification ")]),t("div",[t("b-spinner",{attrs:{variant:"primary"}}),t("div",[e._v(" Finishing Verification Process ")]),t("div",[t("i",[e._v("Please check email for verification link.")])])],1)],1)],1)])])],1)],1),t("dd",{staticClass:"col-sm-6"},[t("b-card-text",{staticClass:"text-center loginText"},[e._v(" Decentralized Login ")]),t("div",{staticClass:"loginRow"},[t("a",{attrs:{title:"Login with Zelcore"},on:{click:e.initiateLoginWS}},[t("img",{staticClass:"walletIcon",attrs:{src:a(96358),alt:"Flux ID",height:"100%",width:"100%"}})]),t("a",{attrs:{title:"Login with SSP"},on:{click:e.initSSPLogin}},[t("img",{staticClass:"walletIcon",attrs:{src:"dark"===e.skin?a(56070):a(58962),alt:"SSP",height:"100%",width:"100%"}})])]),t("div",{staticClass:"loginRow"},[t("a",{attrs:{title:"Login with WalletConnect"},on:{click:e.initWalletConnectLogin}},[t("img",{staticClass:"walletIcon",attrs:{src:a(47622),alt:"WalletConnect",height:"100%",width:"100%"}})]),t("a",{attrs:{title:"Login with Metamask"},on:{click:e.initMetamaskLogin}},[t("img",{staticClass:"walletIcon",attrs:{src:a(28125),alt:"Metamask",height:"100%",width:"100%"}})])])],1)])],1),e.userZelid?e._e():t("b-card",[t("b-card-title",[e._v("Manual Login")]),t("dl",{staticClass:"row"},[t("dd",{staticClass:"col-sm-12"},[t("b-card-text",{staticClass:"text-center"},[e._v(" Sign the following message with any Flux ID / SSP Wallet ID / Bitcoin / Ethereum address ")]),t("br"),t("br"),t("b-form",{staticClass:"mx-5",on:{submit:function(e){e.preventDefault()}}},[t("b-row",[t("b-col",{attrs:{cols:"12"}},[t("b-form-group",{attrs:{label:"Message","label-for":"h-message","label-cols-md":"3"}},[t("b-form-input",{attrs:{id:"h-message",placeholder:"Insert Login Phrase"},model:{value:e.loginForm.loginPhrase,callback:function(t){e.$set(e.loginForm,"loginPhrase",t)},expression:"loginForm.loginPhrase"}})],1)],1),t("b-col",{attrs:{cols:"12"}},[t("b-form-group",{attrs:{label:"Address","label-for":"h-address","label-cols-md":"3"}},[t("b-form-input",{attrs:{id:"h-address",placeholder:"Insert Flux ID or Bitcoin address"},model:{value:e.loginForm.zelid,callback:function(t){e.$set(e.loginForm,"zelid",t)},expression:"loginForm.zelid"}})],1)],1),t("b-col",{attrs:{cols:"12"}},[t("b-form-group",{attrs:{label:"Signature","label-for":"h-signature","label-cols-md":"3"}},[t("b-form-input",{attrs:{id:"h-signature",placeholder:"Insert Signature"},model:{value:e.loginForm.signature,callback:function(t){e.$set(e.loginForm,"signature",t)},expression:"loginForm.signature"}})],1)],1),t("b-col",{attrs:{cols:"12"}},[t("b-form-group",{attrs:{"label-cols-md":"3"}},[t("b-button",{staticClass:"w-100",attrs:{type:"submit",variant:"primary"},on:{click:e.login}},[e._v(" Login ")])],1)],1)],1)],1)],1)])],1),e.userZelid?t("b-card",{attrs:{"no-body":"",title:"Details"}},[t("b-card-body",{staticClass:"d-flex flex-column flex-grow-1"},[t("b-form-textarea",{staticClass:"description-text",attrs:{id:"textarea-rows",rows:"2",readonly:"",value:e.appData.description}}),e.appData.contacts?t("div",{staticClass:"form-row form-group mt-2",staticStyle:{padding:"0"}},[t("label",{staticClass:"col-3 col-form-label"},[e._v(" Contact "),t("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Add your email contact to get notifications ex. app about to expire, app spawns. Your contact will be uploaded to Flux Storage to not be public visible",expression:"'Add your email contact to get notifications ex. app about to expire, app spawns. Your contact will be uploaded to Flux Storage to not be public visible'",modifiers:{hover:!0,top:!0}}],attrs:{name:"info-circle"}})],1),t("div",{staticClass:"col"},[t("b-form-input",{attrs:{id:"contact"},model:{value:e.contact,callback:function(t){e.contact=t},expression:"contact"}})],1)]):e._e(),e.appData.geolocationOptions?t("div",[t("b-form-group",{attrs:{"label-cols":"3","label-cols-lg":"20",label:"Deployment Location","label-for":"geolocation"}},[t("b-form-select",{attrs:{id:"geolocation",options:e.appData.geolocationOptions},model:{value:e.selectedGeolocation,callback:function(t){e.selectedGeolocation=t},expression:"selectedGeolocation"}},[t("b-form-select-option",{attrs:{value:null}},[e._v(" Worldwide ")])],1)],1)],1):e._e(),e.appData.selectInstances?t("div",[e.appData.version>=3?t("b-form-group",{attrs:{"label-cols":"3","label-cols-lg":"20"},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" Instances "),t("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Minimum number of application instances to be spawned",expression:"'Minimum number of application instances to be spawned'",modifiers:{hover:!0,top:!0}}],attrs:{name:"info-circle"}})]},proxy:!0}],null,!1,4262927227)},[t("div",{staticClass:"mx-1"},[e._v(" "+e._s(e.appInstances)+" ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.appInstances,expression:"appInstances"}],staticClass:"form-control-range",staticStyle:{width:"100%",outline:"none"},attrs:{id:"appInstances",type:"range",min:3,max:100,step:1},domProps:{value:e.appInstances},on:{__r:function(t){e.appInstances=t.target.value}}})]):e._e()],1):e._e(),e.appData.version>=6?t("b-form-group",{attrs:{"label-cols":"3","label-cols-lg":"20"},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" Period "),t("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"How long an application will live on Flux network",expression:"'How long an application will live on Flux network'",modifiers:{hover:!0,top:!0}}],attrs:{name:"info-circle"}})]},proxy:!0}],null,!1,2789292708)},[t("div",{staticClass:"mx-1"},[e._v(" "+e._s(e.getExpireLabel)+" ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.expirePosition,expression:"expirePosition"}],staticClass:"form-control-range",staticStyle:{width:"100%",outline:"none"},attrs:{id:"period",type:"range",min:0,max:3,step:1},domProps:{value:e.expirePosition},on:{__r:function(t){e.expirePosition=t.target.value}}})]):e._e(),t("div",{staticStyle:{padding:"0"}},[t("b-tabs",{staticClass:"mt-1",attrs:{pills:""},on:{"activate-tab":e.componentSelected}},e._l(e.appData.compose,(function(a,s){return t("b-tab",{key:s,attrs:{title:a.name}},[t("div",{staticClass:"my-2 ml-2"},[t("div",{staticClass:"list-entry"},[t("p",[t("b",{staticStyle:{display:"inline-block",width:"120px"}},[e._v("Description:")]),e._v(" "+e._s(a.description))]),t("p",[t("b",{staticStyle:{display:"inline-block",width:"120px"}},[e._v("Repository:")]),e._v(" "+e._s(a.repotag))])])]),a.userEnvironmentParameters?.length>0?t("div",{attrs:{title:"Parameters","border-variant":"dark"}},[a.userEnvironmentParameters?t("b-tabs",{attrs:{pills:""}},e._l(a.userEnvironmentParameters,(function(a,s){return t("b-tab",{key:s,attrs:{title:a.name}},[t("div",{staticClass:"form-row form-group"},[t("label",{staticClass:"col-2 col-form-label ml-2"},[e._v(" Value "),t("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:a.description,expression:"parameter.description",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",attrs:{name:"info-circle"}})],1),t("div",{staticClass:"col"},[t("b-form-input",{attrs:{id:"enviromentParameters",placeholder:a.placeholder},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"parameter.value"}})],1)])])})),1):e._e()],1):e._e(),a.userSecrets?t("div",{attrs:{title:"Secrets","border-variant":"primary"}},[a.userSecrets?t("b-tabs",{attrs:{pills:""}},e._l(a.userSecrets,(function(a,s){return t("b-tab",{key:s,attrs:{title:a.name}},[t("div",{staticClass:"form-row form-group"},[t("label",{staticClass:"col-2 col-form-label"},[e._v(" Value "),t("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:a.description,expression:"parameter.description",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",attrs:{name:"info-circle"}})],1),t("div",{staticClass:"col"},[t("b-form-input",{attrs:{id:"secrets",placeholder:a.placeholder},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"parameter.value"}})],1)])])})),1):e._e()],1):e._e(),e.userZelid?t("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-6",attrs:{variant:"outline-warning","aria-label":"View Additional Details"},on:{click:function(t){e.componentParamsModalShowing=!0}}},[e._v(" View Additional Details ")]):e._e()],1)})),1)],1),e.appData.enabled?t("div",{staticClass:"text-center mt-auto"},[t("div",{staticClass:"text-left mt-2"},[t("div",{staticClass:"d-flex align-items-center p-0 mt-auto"},[t("b-form-checkbox",{staticClass:"custom-control-primary",attrs:{id:"tos",switch:""},model:{value:e.tosAgreed,callback:function(t){e.tosAgreed=t},expression:"tosAgreed"}}),t("span",[e._v(" I agree with "),t("a",{attrs:{href:"https://cdn.runonflux.io/Flux_Terms_of_Service.pdf",target:"_blank",rel:"noopener noreferrer"}},[e._v(" Terms of Service ")])])],1),e.userZelid?t("b-button",{staticClass:"mt-1 w-100",attrs:{variant:"outline-success","aria-label":"Launch Marketplace App"},on:{click:e.checkFluxSpecificationsAndFormatMessage}},[e._v(" Start Launching Marketplace Application ")]):e._e()],1)]):t("div",{staticClass:"text-center"},[t("h4",[e._v(" This Application is temporarily disabled ")])])],1)],1):e._e()],1),t("b-col",{staticClass:"d-lg-flex d-none",attrs:{xxl:"3",xl:"4",lg:"4"}},[t("br"),t("b-card",{attrs:{"no-body":""}},[t("b-card-header",{staticClass:"app-requirements-header"},[t("h4",{staticClass:"mb-0"},[e._v(" CPU ")])]),t("vue-apex-charts",{staticClass:"mt-1",attrs:{type:"radialBar",height:"190",options:e.cpuRadialBar,series:e.cpu.series}})],1),t("b-card",{attrs:{"no-body":""}},[t("b-card-header",{staticClass:"app-requirements-header"},[t("h4",{staticClass:"mb-0"},[e._v(" RAM ")])]),t("vue-apex-charts",{staticClass:"mt-1",attrs:{type:"radialBar",height:"190",options:e.ramRadialBar,series:e.ram.series}})],1),t("b-card",{attrs:{"no-body":""}},[t("b-card-header",{staticClass:"app-requirements-header"},[t("h4",{staticClass:"mb-0"},[e._v(" HDD ")])]),t("vue-apex-charts",{staticClass:"mt-1",attrs:{type:"radialBar",height:"190",options:e.hddRadialBar,series:e.hdd.series}})],1)],1),t("b-row",{staticClass:"d-lg-none d-sm-none d-md-flex d-none"},[t("b-col",{attrs:{md:"4"}},[t("b-card",{attrs:{"no-body":""}},[t("b-card-header",{staticClass:"app-requirements-header"},[t("h5",{staticClass:"mb-0"},[e._v(" CPU ")])]),t("vue-apex-charts",{staticClass:"mt-1",attrs:{type:"radialBar",height:"200",options:e.cpuRadialBar,series:e.cpu.series}})],1)],1),t("b-col",{attrs:{md:"4"}},[t("b-card",{attrs:{"no-body":""}},[t("b-card-header",{staticClass:"app-requirements-header"},[t("h5",{staticClass:"mb-0"},[e._v(" RAM ")])]),t("vue-apex-charts",{staticClass:"mt-1",attrs:{type:"radialBar",height:"200",options:e.ramRadialBar,series:e.ram.series}})],1)],1),t("b-col",{attrs:{md:"4"}},[t("b-card",{attrs:{"no-body":""}},[t("b-card-header",{staticClass:"app-requirements-header"},[t("h5",{staticClass:"mb-0"},[e._v(" HDD ")])]),t("vue-apex-charts",{staticClass:"mt-1",attrs:{type:"radialBar",height:"200",options:e.hddRadialBar,series:e.hdd.series}})],1)],1)],1),t("b-row",{staticClass:"d-md-none"},[t("b-col",{attrs:{cols:"4"}},[t("b-card",{attrs:{"no-body":""}},[t("b-card-header",{staticClass:"app-requirements-header"},[t("h6",{staticClass:"mb-0"},[e._v(" CPU ")])]),t("vue-apex-charts",{staticClass:"mt-3",attrs:{type:"radialBar",height:"130",options:e.cpuRadialBarSmall,series:e.cpu.series}})],1)],1),t("b-col",{attrs:{cols:"4"}},[t("b-card",{attrs:{"no-body":""}},[t("b-card-header",{staticClass:"app-requirements-header"},[t("h6",{staticClass:"mb-0"},[e._v(" RAM ")])]),t("vue-apex-charts",{staticClass:"mt-3",attrs:{type:"radialBar",height:"130",options:e.ramRadialBarSmall,series:e.ram.series}})],1)],1),t("b-col",{attrs:{cols:"4"}},[t("b-card",{attrs:{"no-body":""}},[t("b-card-header",{staticClass:"app-requirements-header"},[t("h6",{staticClass:"mb-0"},[e._v(" HDD ")])]),t("vue-apex-charts",{staticClass:"mt-3",attrs:{type:"radialBar",height:"130",options:e.hddRadialBarSmall,series:e.hdd.series}})],1)],1)],1)],1)],1),t("b-modal",{attrs:{title:"Extra Component Parameters",size:"lg",centered:"","ok-only":"","ok-title":"Close","header-bg-variant":"primary","title-class":"custom-modal-title"},model:{value:e.componentParamsModalShowing,callback:function(t){e.componentParamsModalShowing=t},expression:"componentParamsModalShowing"}},[e.currentComponent?t("div",[t("list-entry",{attrs:{title:"Static Parameters",data:e.currentComponent.environmentParameters.join(", ")}}),t("list-entry",{attrs:{title:"Custom Domains",data:e.currentComponent.domains.join(", ")||"none"}}),t("list-entry",{attrs:{title:"Automatic Domains",data:e.constructAutomaticDomains(e.appData.name).join(", ")}}),t("list-entry",{attrs:{title:"Ports",data:e.currentComponent.ports.join(", ")}}),t("list-entry",{attrs:{title:"Container Ports",data:e.currentComponent.containerPorts.join(", ")}}),t("list-entry",{attrs:{title:"Container Data",data:e.currentComponent.containerData}}),t("list-entry",{attrs:{title:"Commands",data:e.currentComponent.commands.length>0?e.currentComponent.commands.join(", "):"none"}})],1):e._e()]),t("b-modal",{attrs:{title:"Finish Launching App?",centered:"","ok-title":"Yes","cancel-title":"No","header-bg-variant":"primary","title-class":"custom-modal-title"},on:{ok:e.closeLaunchModals},model:{value:e.confirmLaunchDialogCloseShowing,callback:function(t){e.confirmLaunchDialogCloseShowing=t},expression:"confirmLaunchDialogCloseShowing"}},[t("h5",{staticClass:"text-center"},[e._v(" Please ensure that you have paid for your app, or saved the payment details for later. ")]),t("br"),t("h5",{staticClass:"text-center"},[e._v(" Close the Launch App dialog? ")])]),t("b-modal",{attrs:{title:"Launching Marketplace App",size:"xlg",centered:"","no-close-on-backdrop":"","no-close-on-esc":"","hide-footer":"","header-bg-variant":"primary","title-class":"custom-modal-title"},on:{hide:e.confirmLaunchDialogCancel},model:{value:e.launchModalShowing,callback:function(t){e.launchModalShowing=t},expression:"launchModalShowing"}},[t("form-wizard",{ref:"formWizard",staticClass:"wizard-vertical mb-3",attrs:{color:e.tierColors.cumulus,title:null,subtitle:null,layout:"vertical","back-button-text":"Previous"},on:{"on-complete":function(t){return e.confirmLaunchDialogFinish()}},scopedSlots:e._u([{key:"footer",fn:function(a){return[t("div",[a.activeTabIndex>0?t("b-button",{staticClass:"wizard-footer-left",attrs:{type:"button",variant:"outline-dark"},on:{click:function(t){return e.$refs.formWizard.prevTab()}}},[e._v(" Previous ")]):e._e(),t("b-button",{staticClass:"wizard-footer-right",attrs:{type:"button",variant:"outline-dark"},on:{click:function(t){return e.$refs.formWizard.nextTab()}}},[e._v(" "+e._s(a.isLastStep?"Done":"Next")+" ")])],1)]}}])},[t("tab-content",{attrs:{title:"Check Registration"}},[t("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Registration Message"}},[t("div",{staticClass:"text-wrap"},[t("b-form-textarea",{attrs:{id:"registrationmessage",rows:"6",readonly:""},model:{value:e.dataToSign,callback:function(t){e.dataToSign=t},expression:"dataToSign"}}),t("b-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:e.tooltipText,expression:"tooltipText"}],ref:"copyButtonRef",staticClass:"clipboard icon",attrs:{scale:"1.5",icon:"clipboard"},on:{click:e.copyMessageToSign}})],1)])],1),t("tab-content",{attrs:{title:"Sign App Message","before-change":()=>null!==e.signature}},[t("div",{staticClass:"mx-auto",staticStyle:{width:"600px"}},[t("h4",{staticClass:"text-center"},[e._v(" Sign Message with same method you have used for login ")]),t("div",{staticClass:"loginRow mx-auto",staticStyle:{width:"400px"}},[t("a",{on:{click:e.initiateSignWS}},[t("img",{staticClass:"walletIcon",attrs:{src:a(96358),alt:"Flux ID",height:"100%",width:"100%"}})]),t("a",{on:{click:e.initSSP}},[t("img",{staticClass:"walletIcon",attrs:{src:e.isDark?a(56070):a(58962),alt:"SSP",height:"100%",width:"100%"}})])]),t("div",{staticClass:"loginRow mx-auto",staticStyle:{width:"400px"}},[t("a",{on:{click:e.initWalletConnect}},[t("img",{staticClass:"walletIcon",attrs:{src:a(47622),alt:"WalletConnect",height:"100%",width:"100%"}})]),t("a",{on:{click:e.initMetamask}},[t("img",{staticClass:"walletIcon",attrs:{src:a(28125),alt:"Metamask",height:"100%",width:"100%"}})])]),t("div",{staticClass:"loginRow"},[t("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"my-1",staticStyle:{width:"250px"},attrs:{variant:"primary","aria-label":"Flux Single Sign On/Email"},on:{click:e.initSignFluxSSO}},[e._v(" Flux Single Sign On (SSO)/Email ")])],1)]),t("b-form-input",{staticClass:"mb-2",attrs:{id:"signature"},model:{value:e.signature,callback:function(t){e.signature=t},expression:"signature"}})],1),t("tab-content",{attrs:{title:"Register Application","before-change":()=>null!==e.registrationHash}},[t("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Register Application"}},[t("b-card-text",[t("b-icon",{staticClass:"mr-1",attrs:{scale:"1.4",icon:"cash-coin"}}),e._v("Price:  "),t("b",[e._v(e._s(e.appPricePerDeploymentUSD)+" USD + VAT")])],1),t("div",[t("b-button",{staticClass:"my-1",staticStyle:{width:"250px"},attrs:{variant:e.loading||e.completed?"outline-success":"success","aria-label":"Register",disabled:e.loading||e.completed},on:{click:e.register}},[e.loading?[t("b-spinner",{attrs:{small:""}}),e._v(" Processing... ")]:e.completed?[e._v(" Done! ")]:[e._v(" Register ")]],2)],1),e.registrationHash?t("b-card-text",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],staticClass:"mt-1",attrs:{title:e.registrationHash}},[e._v(" Registration Hash Received ")]):e._e()],1)],1),t("tab-content",{attrs:{title:"Send Payment"}},[t("b-row",{staticClass:"match-height"},[t("b-col",{attrs:{xs:"6",lg:"8"}},[t("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Send Payment"}},[t("div",{staticClass:"d-flex justify-content-center align-items-center mb-1"},[t("b-icon",{staticClass:"mr-1",attrs:{scale:"1.4",icon:"cash-coin"}}),e._v("Price:  "),t("b",[e._v(e._s(e.appPricePerDeploymentUSD)+" USD + VAT")])],1),t("b-card-text",[t("b",[e._v("Everything is ready, your payment option links, both for fiat and flux, are valid for the next 30 minutes.")])]),t("br"),e._v(" The application will be subscribed until "),t("b",[e._v(e._s(new Date(e.subscribedTill).toLocaleString("en-GB",e.timeoptions.shortDate)))]),t("br"),e._v(" To finish the application registration, pay your application with your prefered payment method or check below how to pay with Flux crypto currency. ")],1)],1),t("b-col",{attrs:{xs:"6",lg:"4"}},[t("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Pay with Stripe/PayPal"}},[t("div",{staticClass:"loginRow"},[e.stripeEnabled?t("a",{on:{click:e.initStripePay}},[t("img",{staticClass:"stripePay",attrs:{src:a(20134),alt:"Stripe",height:"100%",width:"100%"}})]):e._e(),e.paypalEnabled?t("a",{on:{click:e.initPaypalPay}},[t("img",{staticClass:"paypalPay",attrs:{src:a(36547),alt:"PayPal",height:"100%",width:"100%"}})]):e._e(),e.paypalEnabled||e.stripeEnabled?e._e():t("span",[e._v("Fiat Gateways Unavailable.")])]),e.checkoutLoading?t("div",{attrs:{className:"loginRow"}},[t("b-spinner",{attrs:{variant:"primary"}}),t("div",{staticClass:"text-center"},[e._v(" Checkout Loading ... ")])],1):e._e(),e.fiatCheckoutURL?t("div",{attrs:{className:"loginRow"}},[t("a",{attrs:{href:e.fiatCheckoutURL,target:"_blank",rel:"noopener noreferrer"}},[e._v(" Click here for checkout if not redirected ")])]):e._e()])],1)],1),e.applicationPriceFluxError?e._e():t("b-row",{staticClass:"match-height"},[t("b-col",{attrs:{xs:"6",lg:"8"}},[t("b-card",{staticClass:"text-center wizard-card"},[t("b-card-text",[e._v(" To pay in FLUX, please make a transaction of "),t("b",[e._v(e._s(e.appPricePerDeployment)+" FLUX")]),e._v(" to address"),t("br"),t("b",[e._v("'"+e._s(e.deploymentAddress)+"'")]),t("br"),e._v(" with the following message"),t("br"),t("b",[e._v("'"+e._s(e.registrationHash)+"'")])])],1)],1),t("b-col",{attrs:{xs:"6",lg:"4"}},[t("b-card",[e.applicationPriceFluxDiscount>0?t("h4",[t("kbd",{staticClass:"d-flex justify-content-center bg-primary mb-1"},[e._v("Discount - "+e._s(e.applicationPriceFluxDiscount)+"%")])]):e._e(),t("h4",{staticClass:"text-center mb-2"},[e._v(" Pay with Zelcore/SSP ")]),t("div",{staticClass:"loginRow"},[t("a",{on:{click:e.initZelcorePay}},[t("img",{staticClass:"walletIcon",attrs:{src:a(96358),alt:"Flux ID",height:"100%",width:"100%"}})]),t("a",{on:{click:e.initSSPpay}},[t("img",{staticClass:"walletIcon",attrs:{src:e.isDark?a(56070):a(58962),alt:"SSP",height:"100%",width:"100%"}})])])])],1)],1)],1)],1)],1)],1)},F=[],z=(a(70560),a(15193)),R=a(86855),T=a(87047),P=a(64206),D=a(50725),A=a(333),I=a(31220),$=a(26253),L=a(58887),Z=a(51015),M=a(8051),B=a(78959),E=a(46709),N=a(82653),O=a(43028),j=a(5870),q=a(85498),U=a(67166),V=a.n(U),W=a(68934),Y=a(99981),H=a(43672),J=a(34369),G=a(72918),K=a(38511),X=a(62693),Q=a(16716),ee=a(37307),te=a(52829),ae=a(5449),se=a(44866),ie=a(74811),oe=a(65864),ne=a(48764)["lW"];const re="df787edc6839c7de49d527bba9199eaa",le={projectId:re,metadata:{name:"Flux Cloud",description:"Flux, Your Gateway to a Decentralized World",url:"https://home.runonflux.io",icons:["https://home.runonflux.io/img/logo.png"]}},ce=new X.u(le),de={enableDebug:!0},ue=new Q.cR(de);let pe;const me=a(80129),ge=a(97218),ve=a(58971),fe=a(79650),he=a(63005),be={components:{BButton:z.T,BCard:R._,BCardHeader:T.p,BCardText:P.j,BCol:D.l,BFormInput:o.e,BFormTextarea:A.y,BModal:I.N,BRow:$.T,BTabs:L.M,BTab:Z.L,BFormSelect:M.K,BFormSelectOption:B.c,BFormGroup:E.x,FormWizard:q.FormWizard,TabContent:q.TabContent,ToastificationContent:w.Z,ListEntry:Y.Z,VuePerfectScrollbar:S(),VueApexCharts:V()},directives:{Ripple:b.Z,"b-modal":N.T,"b-toggle":O.M,"b-tooltip":j.o},props:{appData:{type:Object,required:!0},zelid:{type:String,required:!1,default:""},tier:{type:String,required:!1,default:""},isActive:{type:Boolean,default:!1}},setup(e){const t=(0,g.getCurrentInstance)().proxy,a=(0,x.useToast)(),{skin:s}=(0,ee.Z)(),i=(0,g.computed)((()=>"dark"===s.value)),o=e=>"Open"===e?"warning":"Passed"===e?"success":"Unpaid"===e?"info":e&&e.startsWith("Rejected")?"danger":"primary",n=(e,t,s="InfoIcon")=>{a({component:w.Z,props:{title:t,icon:s,variant:e}})},r=(0,g.ref)(!1),l=(0,g.ref)(null),c=(0,g.ref)(""),d=(0,g.ref)(null),u=(0,g.ref)(""),p=(0,g.ref)({zelid:"",signature:"",loginPhrase:""}),m=(0,g.ref)(e.zelid||""),v=(0,g.ref)({email:"",password:""}),f=(0,g.ref)(null),h=(0,g.ref)({email:"",pw1:"",pw2:""}),b=(0,g.ref)(null),y=(0,g.ref)(null),S=(0,g.ref)(null),C=(0,g.ref)(null),k=(0,g.ref)(null),_=async()=>{try{const e=await J.Z.emergencyLoginPhrase();console.log(e),"error"===e.data.status?n("danger",e.data.data.message):(c.value=e.data.data,p.value.loginPhrase=e.data.data)}catch(e){console.log(e),n("danger",e)}},F=async()=>{try{const e=await J.Z.loginPhrase();console.log(e.data.data),"error"===e.data.status?await _():(c.value=e.data.data,p.value.loginPhrase=e.data.data)}catch(e){console.log(e),n("danger",e)}},z=e=>"error"===e?"danger":"success",R=()=>{document.getElementById("ssoVerify").style.display="none",document.getElementById("ssoEmailVerify").style.display="none",document.getElementById("ssoLoggedIn").style.display="none",document.getElementById("emailLoginProcessing").style.display="none",document.getElementById("emailLoginExecute").style.display="block",document.getElementById("emailLoginForm").style.display="block",document.getElementById("signUpButton").style.display="block",v.value.email="",v.value.password="",f.value.reset(),f.value.start("#firebaseui-auth-container"),u.value=!1},T=()=>{R()},P=async e=>{try{if(e.emailVerified){document.getElementById("ssoLoggedIn").style.display="block";const a=e.auth.currentUser.accessToken,s=c.value,i={"Content-Type":"application/json",Authorization:`Bearer ${a}`},o=await ge.post("https://service.fluxcore.ai/api/signInOrUp",{message:s},{headers:i});if("success"!==o.data?.status)throw new Error("Login Failed, please try again.");console.log(o);const r={zelid:o.data.public_address,signature:o.data.signature,loginPhrase:c.value},l=await J.Z.verifyLogin(r);if(console.log(l),"success"===l.data.status){const e={zelid:o.data.public_address,signature:o.data.signature,loginPhrase:c.value};t.$store.commit("flux/setPrivilege",l.data.data.privilege),t.$store.commit("flux/setZelid",e.zelid),localStorage.setItem("zelidauth",me.stringify(e)),m.value=e.zelid,n("success",l.data.data.message)}else n(z(l.data.status),l.data.data.message||l.data.data),R()}else await A(e)}catch(a){console.log(a),R(),n("warning","Login Failed, please try again.")}},D=async()=>{try{let e=(0,ae.PR)();e&&u.value?(await e.reload(),e=(0,ae.PR)(),e.emailVerified?(n("info","email verified"),document.getElementById("ssoVerify").style.display="none",P(e),u.value=!1):setTimeout(D,5e3)):R()}catch(e){n("warning","email verification failed"),R()}},A=async e=>{if(e.displayName){const t=/\b((http|https|ftp):\/\/[-A-Z0-9+&@#%?=~_|!:,.;]*[-A-Z0-9+&@#%=~_|]|www\.[-A-Z0-9+&@#%?=~_|!:,.;]*[-A-Z0-9+&@#%=~_|]|[-A-Z0-9]+\.[A-Z]{2,}[-A-Z0-9+&@#%?=~_|]*[-A-Z0-9+&@#%=~_|])/i;if(t.test(e.displayName))throw new Error("Login Failed, please try again.")}try{await e.sendEmailVerification(),n("info","please verify email")}catch{n("warning","failed to send new verification email")}finally{document.getElementById("ssoVerify").style.display="block",document.getElementById("ssoEmailVerify").style.display="block",document.getElementById("emailLoginForm").style.display="none",u.value=!0,await D()}},I=e=>(e.user&&P(e.user),!1),$=async()=>{try{if(document.getElementById("emailLoginForm").reportValidity()){document.getElementById("emailLoginExecute").style.display="none",document.getElementById("emailLoginProcessing").style.display="block",document.getElementById("signUpButton").style.display="none";const e=await(0,ae.fZ)(v.value);I(e)}}catch(e){document.getElementById("emailLoginExecute").style.display="block",document.getElementById("emailLoginProcessing").style.display="none",document.getElementById("signUpButton").style.display="block",document.getElementById("ssoEmailVerify").style.display="none",n("danger","login failed, please try again")}},L=()=>{r.value=!r.value},Z=async()=>{try{const e=await J.Z.verifyLogin(p.value);if(console.log(e),"success"===e.data.status){const a={zelid:p.value.zelid,signature:p.value.signature,loginPhrase:p.value.loginPhrase};t.$store.commit("flux/setPrivilege",e.data.data.privilage),t.$store.commit("flux/setZelid",a.zelid),localStorage.setItem("zelidauth",me.stringify(a)),m.value=a.zelid,await(0,g.nextTick)(),window.scrollTo({top:0}),n("success",e.data.data.message)}else n(z(e.data.status),e.data.data.message||e.data.data)}catch(e){console.log(e),n("danger",e.toString())}},M=()=>{const e=C.value?.reportValidity();return h.value.pw1.length>=8?(y.value=!0,h.value.pw2.length>=8?(S.value=!0,h.value.pw1!==h.value.pw2?(n("info","Passwords do not match."),y.value=!1,S.value=!1,null):e):(n("info","Password must be at least 8 characters."),null)):(n("info","Password must be at least 8 characters."),null)},B=()=>{h.value.email="",h.value.pw1="",h.value.pw2="",b.value=null,y.value=null,S.value=null},E=async()=>{if(M()){try{const e=await(0,ae.wY)({email:h.value.email,password:h.value.pw1});I(e)}catch(e){R(),n("danger","Account creation failed, please try again.")}await(0,g.nextTick)((()=>{k.value.hide("modal-prevent-closing")}))}},N=e=>{e.preventDefault(),E()},O=e=>console.log("WebSocket opened:",e),j=e=>console.log("WebSocket closed:",e),q=e=>console.log("WebSocket error:",e),U=e=>{const a=me.parse(e.data);if("success"===a.status&&a.data){const e={zelid:a.data.zelid,signature:a.data.signature,loginPhrase:a.data.loginPhrase};t.$store.commit("flux/setPrivilege",a.data.privilage),t.$store.commit("flux/setZelid",e.zelid),localStorage.setItem("zelidauth",me.stringify(e)),m.value=e.zelid,n("success",a.data.message)}console.log("Message received:",a)},V=()=>{const{protocol:e,hostname:a,port:s}=window.location;let i="";i+=e,i+="//";const o=/[A-Za-z]/g;if(a.split("-")[4]){const e=a.split("-"),t=e[4].split("."),s=+t[0]+1;t[0]=s.toString(),t[2]="api",e[4]="",i+=e.join("-"),i+=t.join(".")}else if(a.match(o)){const e=a.split(".");e[0]="api",i+=e.join(".")}else{if("string"===typeof a&&t.$store.commit("flux/setUserIp",a),+s>16100){const e=+s+1;t.$store.commit("flux/setFluxPort",e)}i+=a,i+=":",i+=at.value.apiPort}const n=ve.get("backendURL")||i,r=`${n}/id/verifylogin`;return encodeURI(r)},Y=()=>{try{const e=`zel:?action=sign&message=${c.value}&icon=https%3A%2F%2Fraw.githubusercontent.com%2Frunonflux%2Fflux%2Fmaster%2FzelID.svg&callback=${V()}`;if(window.zelcore)window.zelcore.protocol(e);else{const t=document.createElement("a");t.href=e,t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}}catch(e){n("warning","Failed to sign message, please try again.")}},X=()=>{Y();const{protocol:e,hostname:a,port:s}=window.location;let i="";i+=e,i+="//";const o=/[A-Za-z]/g;if(a.split("-")[4]){const e=a.split("-"),t=e[4].split("."),s=+t[0]+1;t[0]=s.toString(),t[2]="api",e[4]="",i+=e.join("-"),i+=t.join(".")}else if(a.match(o)){const e=a.split(".");e[0]="api",i+=e.join(".")}else{if("string"===typeof a&&t.$store.commit("flux/setUserIp",a),+s>16100){const e=+s+1;t.$store.commit("flux/setFluxPort",e)}i+=a,i+=":",i+=at.value.apiPort}let n=ve.get("backendURL")||i;n=n.replace("https://","wss://"),n=n.replace("http://","ws://");const r=`${n}/ws/id/${c.value}`;l.value=new WebSocket(r),l.value.onopen=e=>O(e),l.value.onclose=e=>j(e),l.value.onmessage=e=>U(e),l.value.onerror=e=>q(e)},Q={callbacks:{signInSuccessWithAuthResult:I,uiShown(){const e=document.getElementById("ssoLoading");e&&(e.style.display="none")}},popupMode:!0,signInFlow:"popup",signInOptions:[{provider:se.Z.auth.GoogleAuthProvider.PROVIDER_ID,customParameters:{prompt:"select_account"}},"apple.com"],tosUrl:"https://cdn.runonflux.io/Flux_Terms_of_Service.pdf",privacyPolicyUrl:"https://runonflux.io/privacyPolicy"},re=async e=>{console.log(e);try{const a=await d.value.request({topic:e.topic,chainId:"eip155:1",request:{method:"personal_sign",params:[c.value,e.namespaces.eip155.accounts[0].split(":")[2]]}});console.log(a);const s={zelid:e.namespaces.eip155.accounts[0].split(":")[2],signature:a,loginPhrase:c.value},i=await J.Z.verifyLogin(s);if(console.log(i),"success"===i.data.status){const e=s;t.$store.commit("flux/setPrivilege",i.data.data.privilage),t.$store.commit("flux/setZelid",e.zelid),localStorage.setItem("zelidauth",me.stringify(e)),m.value=e.zelid,n("success",i.data.data.message)}else n(z(i.data.status),i.data.data.message||i.data.data)}catch(a){console.error(a),n("danger",a.message)}},de=e=>{console.log(e)},be=async()=>{try{d.value=await K.ZP.init(le),d.value.on("session_event",(({event:e})=>{console.log(e)})),d.value.on("session_update",(({topic:e,params:t})=>{const{namespaces:a}=t,s=d.value.session.get(e),i={...s,namespaces:a};de(i)})),d.value.on("session_delete",(()=>{}));const{uri:e,approval:t}=await d.value.connect({requiredNamespaces:{eip155:{methods:["personal_sign"],chains:["eip155:1"],events:["chainChanged","accountsChanged"]}}});if(e){ce.openModal({uri:e});const a=await t();await re(a),ce.closeModal()}}catch(e){console.error(e),n("danger",e.message)}},xe=async()=>{try{if(!window.ssp)return void n("danger","SSP Wallet not installed");const e=await window.ssp.request("sspwid_sign_message",{message:c.value});if("ERROR"===e.status)throw new Error(e.data||e.result);const a={zelid:e.address,signature:e.signature,loginPhrase:c.value},s=await J.Z.verifyLogin(a);if(console.log(s),"success"===s.data.status){const e=a;t.$store.commit("flux/setPrivilege",s.data.data.privilage),t.$store.commit("flux/setZelid",e.zelid),localStorage.setItem("zelidauth",me.stringify(e)),m.value=e.zelid,n("success",s.data.data.message)}else n("danger",s.data.data.message||s.data.data)}catch(e){n("danger",e.message)}},we=async(e,a)=>{try{const s=`0x${ne.from(e,"utf8").toString("hex")}`,i=await window.ethereum.request({method:"personal_sign",params:[s,a]}),o={zelid:a,signature:i,loginPhrase:c.value},r=await J.Z.verifyLogin(o);if("success"===r.data.status){const e=o;t.$store.commit("flux/setPrivilege",r.data.data.privilage),t.$store.commit("flux/setZelid",e.zelid),localStorage.setItem("zelidauth",me.stringify(e)),m.value=e.zelid,n("success",r.data.data.message)}else n("danger",r.data.data.message||r.data.data)}catch(s){console.error(s),n("danger",s.message)}},ye=async()=>{try{if(!window.ethereum)return void n("danger","Metamask not detected");let e;if(window.ethereum.selectedAddress)e=window.ethereum.selectedAddress;else{const t=await window.ethereum.request({method:"eth_requestAccounts"});e=t[0]}await we(c.value,e)}catch(e){n("danger",e.message)}},Se=(0,g.ref)("");Se.value=e.tier;const Ce=(0,g.ref)(!1),ke=(0,g.ref)(!1),_e=(0,g.ref)(!1),Fe=(0,g.ref)(!1),ze=(0,g.ref)(!1),Re=(0,g.ref)(null),Te=(0,g.ref)(1),Pe=(0,g.ref)("fluxappregister"),De=(0,g.ref)(null),Ae=(0,g.ref)(null),Ie=(0,g.ref)(null),$e=(0,g.ref)(null),Le=(0,g.ref)(0),Ze=(0,g.ref)(0),Me=(0,g.ref)(null),Be=(0,g.ref)(!1),Ee=(0,g.ref)(!1),Ne=(0,g.ref)(""),Oe=(0,g.ref)(null),je=(0,g.ref)(!0),qe=(0,g.ref)(!0),Ue=(0,g.ref)([]),Ve=(0,g.ref)([]),We=(0,g.ref)(null),Ye=(0,g.ref)(null),He=(0,g.ref)(Number(3)),Je=(0,g.ref)(null),Ge=(0,g.ref)("Copy to clipboard"),Ke=(0,g.ref)(null),Xe=(0,g.ref)([]),Qe=(0,g.ref)(Number(0)),et=(0,g.ref)(!1),tt=(0,g.ref)(null);Xe.value=[{value:22e3,label:"1 month",time:2592e6},{value:66e3,label:"3 months",time:7776e6},{value:132e3,label:"6 months",time:15552e6},{value:264e3,label:"1 year",time:31536e6}];const at=(0,g.computed)((()=>t.$store.state.flux.config)),st=(0,g.computed)((()=>$e.value+36e5)),it=(0,g.computed)((()=>{if(e.appData.version>=6){const e=Xe.value;if(e[Qe.value])return Date.now()+e[Qe.value].time+36e5}const t=Date.now()+2592e6+36e5;return t})),ot=(0,g.computed)((()=>{const e=Xe.value;return e[Qe.value]?e[Qe.value].label:null})),nt=()=>{const{protocol:e,hostname:a,port:s}=window.location;let i="";i+=e,i+="//";const o=/[A-Za-z]/g;if(a.split("-")[4]){const e=a.split("-"),t=e[4].split("."),s=+t[0]+1;t[0]=s.toString(),t[2]="api",e[4]="",i+=e.join("-"),i+=t.join(".")}else if(a.match(o)){const e=a.split(".");e[0]="api",i+=e.join(".")}else{if("string"===typeof a&&t.$store.commit("flux/setUserIp",a),+s>16100){const e=+s+1;t.$store.commit("flux/setFluxPort",e)}i+=a,i+=":",i+=at.value.apiPort}const n=ve.get("backendURL")||i,r=`${n}/id/providesign`;return encodeURI(r)},rt=e=>{console.log(e)},lt=e=>{const t=me.parse(e.data);"success"===t.status&&t.data&&(Ae.value=t.data.signature),console.log(t),console.log(e)},ct=e=>{console.log(e)},dt=e=>{console.log(e)},ut=async()=>{try{const e=De.value,t=(0,ae.PR)();if(!t)return void n("warning","Not logged in as SSO. Login with SSO or use different signing method.");const a=t.auth.currentUser.accessToken,s={"Content-Type":"application/json",Authorization:`Bearer ${a}`},i=await ge.post("https://service.fluxcore.ai/api/signMessage",{message:e},{headers:s});if("success"!==i.data?.status&&i.data?.signature)return void n("warning","Failed to sign message, please try again.");Ae.value=i.data.signature,n("success","Message signed.")}catch(e){n("warning","Failed to sign message, please try again.")}},pt=()=>{try{const e=`zel:?action=pay&coin=zelcash&address=${tt.value}&amount=${Le.value}&message=${Oe.value}&icon=https%3A%2F%2Fraw.githubusercontent.com%2Frunonflux%2Fflux%2Fmaster%2Fflux_banner.png`;if(window.zelcore)window.zelcore.protocol(e);else{const t=document.createElement("a");t.href=e,t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}}catch(e){n("warning","Failed to sign message, please try again.")}},mt=async()=>{try{const e=`zel:?action=sign&message=${De.value}&icon=https%3A%2F%2Fraw.githubusercontent.com%2Frunonflux%2Fflux%2Fmaster%2FzelID.svg&callback=${nt()}`;if(window.zelcore)window.zelcore.protocol(e);else if(De.value.length>1800){const e=De.value,t={publicid:Math.floor(999999999999999*Math.random()).toString(),public:e};await ge.post("https://storage.runonflux.io/v1/public",t);const a=`zel:?action=sign&message=FLUX_URL=https://storage.runonflux.io/v1/public/${t.publicid}&icon=https%3A%2F%2Fraw.githubusercontent.com%2Frunonflux%2Fflux%2Fmaster%2FzelID.svg&callback=${nt()}`,s=document.createElement("a");s.href=a,s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)}else{const t=document.createElement("a");t.href=e,t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}}catch(e){n("warning","Failed to sign message, please try again.")}},gt=async()=>{await mt();const{protocol:e,hostname:a,port:s}=window.location;let i="";i+=e,i+="//";const o=/[A-Za-z]/g;if(a.split("-")[4]){const e=a.split("-"),t=e[4].split("."),s=+t[0]+1;t[0]=s.toString(),t[2]="api",e[4]="",i+=e.join("-"),i+=t.join(".")}else if(a.match(o)){const e=a.split(".");e[0]="api",i+=e.join(".")}else{if("string"===typeof a&&t.$store.commit("flux/setUserIp",a),+s>16100){const e=+s+1;t.$store.commit("flux/setFluxPort",e)}i+=a,i+=":",i+=at.value.apiPort}let n=ve.get("backendURL")||i;n=n.replace("https://","wss://"),n=n.replace("http://","ws://");const r=m.value+$e.value;console.log(`signatureMessage: ${r}`);const c=`${n}/ws/sign/${r}`,d=new WebSocket(c);l.value=d,d.onopen=e=>{dt(e)},d.onclose=e=>{ct(e)},d.onmessage=e=>{lt(e)},d.onerror=e=>{rt(e)}},vt=async()=>{try{await ue.init(),pe=ue.getProvider()}catch(e){console.log(e)}};vt();const ft=async(e,t)=>{try{const a=`0x${ne.from(e,"utf8").toString("hex")}`,s=await pe.request({method:"personal_sign",params:[a,t]});console.log(s),Ae.value=s}catch(a){console.error(a),n("danger",a.message)}},ht=async()=>{try{if(!pe)return void n("danger","Metamask not detected");let e;if(pe&&!pe.selectedAddress){const t=await pe.request({method:"eth_requestAccounts",params:[]});console.log(t),e=t[0]}else e=pe.selectedAddress;ft(De.value,e)}catch(e){n("danger",e.message)}},bt=async()=>{try{if(!window.ssp)return void n("danger","SSP Wallet not installed");const e=await window.ssp.request("sspwid_sign_message",{message:De.value});if("ERROR"===e.status)throw new Error(e.data||e.result);Ae.value=e.signature}catch(e){n("danger",e.message)}},xt=async()=>{try{if(!window.ssp)return void n("danger","SSP Wallet not installed");const e={message:Oe.value,amount:(+Le.value||0).toString(),address:tt.value,chain:"flux"},t=await window.ssp.request("pay",e);if("ERROR"===t.status)throw new Error(t.data||t.result);n("success",`${t.data}: ${t.txid}`)}catch(e){n("danger",e.message)}},wt=e=>{const t=window.open(e,"_blank");t.focus()},yt=async()=>{try{Me.value=null,Be.value=!0;const t=Oe.value,{name:a}=Je.value,s=Ze.value,{description:i}=Je.value,o=localStorage.getItem("zelidauth"),r=me.parse(o),l={zelid:r.zelid,signature:r.signature,loginPhrase:r.loginPhrase,details:{name:a,description:i,hash:t,price:s,productName:a,success_url:"https://home.runonflux.io/successcheckout",cancel_url:"https://home.runonflux.io",kpi:{origin:"FluxOS",marketplace:!0,registration:!0}}},c=await ge.post(`${oe.M}/api/v1/stripe/checkout/create`,l);if("error"===c.data.status)return n("error","Failed to create stripe checkout"),void(Be.value=!1);Me.value=c.data.data,Be.value=!1;try{wt(c.data.data)}catch(e){console.log(e),n("error","Failed to open Stripe checkout, pop-up blocked?")}}catch(e){console.log(e),n("error","Failed to create stripe checkout"),Be.value=!1}},St=async()=>{try{Me.value=null,Be.value=!0;const t=Oe.value,{name:a}=Je.value,s=Ze.value,{description:i}=Je.value;let o=null,r=await ge.get("https://api.ipify.org?format=json").catch((()=>{console.log("Error geting clientIp from api.ipify.org from")}));r&&r.data&&r.data.ip?o=r.data.ip:(r=await ge.get("https://ipinfo.io").catch((()=>{console.log("Error geting clientIp from ipinfo.io from")})),r&&r.data&&r.data.ip?o=r.data.ip:(r=await ge.get("https://api.ip2location.io").catch((()=>{console.log("Error geting clientIp from api.ip2location.io from")})),r&&r.data&&r.data.ip&&(o=r.data.ip)));const l=localStorage.getItem("zelidauth"),c=me.parse(l),d={zelid:c.zelid,signature:c.signature,loginPhrase:c.loginPhrase,details:{clientIP:o,name:a,description:i,hash:t,price:s,productName:a,return_url:"home.runonflux.io/successcheckout",cancel_url:"home.runonflux.io",kpi:{origin:"FluxOS",marketplace:!0,registration:!0}}},u=await ge.post(`${oe.M}/api/v1/paypal/checkout/create`,d);if("error"===u.data.status)return n("error","Failed to create PayPal checkout"),void(Be.value=!1);Me.value=u.data.data,Be.value=!1;try{wt(u.data.data)}catch(e){console.log(e),n("error","Failed to open PayPal checkout, pop-up blocked?")}}catch(e){console.log(e),n("error","Failed to create PayPal checkout"),Be.value=!1}},Ct=async e=>{console.log(e);const t=await d.value.request({topic:e.topic,chainId:"eip155:1",request:{method:"personal_sign",params:[De.value,e.namespaces.eip155.accounts[0].split(":")[2]]}});console.log(t),Ae.value=t},kt=async()=>{try{const e=await K.ZP.init(le);d.value=e;const t=e.session.getAll().length-1,a=e.session.getAll()[t];if(!a)throw new Error("WalletConnect session expired. Please log into FluxOS again");Ct(a)}catch(e){console.error(e),n("danger",e.message)}},_t={maxScrollbarLength:150},Ft=e=>e.compose.reduce(((e,t)=>e+t.cpu),0),zt=e=>e.compose.reduce(((e,t)=>e+t.ram),0),Rt=e=>e.compose.reduce(((e,t)=>e+t.hdd),0),Tt=(0,g.ref)({series:[]}),Pt=(0,g.ref)({series:[]}),Dt=(0,g.ref)({series:[]}),At=async e=>{try{const t=e.split(":")[0],a=Number(e.split(":")[1]||16127),{hostname:s}=window.location,i=/[A-Za-z]/g;let o=!0;s.match(i)&&(o=!1);let r=`https://${t.replace(/\./g,"-")}-${a}.node.api.runonflux.io/flux/pgp`;o&&(r=`http://${t}:${a}/flux/pgp`);const l=await ge.get(r);if("error"!==l.data.status){const e=l.data.data;return e}return n("danger",l.data.data.message||l.data.data),null}catch(t){return console.log(t),null}},It=async()=>{const e=sessionStorage.getItem("flux_enterprise_nodes");if(e)return JSON.parse(e);try{const e=await H.Z.getEnterpriseNodes();if("error"!==e.data.status)return sessionStorage.setItem("flux_enterprise_nodes",JSON.stringify(e.data.data)),e.data.data;n("danger",e.data.data.message||e.data.data)}catch(t){console.log(t)}return[]},$t=async(e,t)=>{try{const a=t.map((e=>e.nodekey)),s=await Promise.all(a.map((e=>fe.readKey({armoredKey:e})))),i=await fe.createMessage({text:e.replace("\\“",'\\"')}),o=await fe.encrypt({message:i,encryptionKeys:s});return o}catch(a){return n("danger","Data encryption failed"),null}},Lt=async()=>{const e=+He.value+3,t=+He.value+Math.ceil(Math.max(7,.15*+He.value)),a=await It(),s=[],i=[],o=a.filter((e=>e.enterprisePoints>0&&e.score>1e3));for(let n=0;n<o.length;n+=1){const a=i.filter((e=>e.pubkey===o[n].pubkey)).length,r=s.filter((e=>e.pubkey===o[n].pubkey)).length;if(a+r<e&&s.push(o[n]),s.length+i.length>=t)break}if(s.length<t)throw new Error("Not enough kyc nodes available to run your enterprise app.");return s.forEach((async e=>{const t=i.find((t=>t.ip===e.ip));if(!t){i.push(e);const t=Ve.value.find((t=>t.nodeip===e.ip));if(!t){const t=await At(e.ip);if(t){const a={nodeip:e.ip,nodekey:t},s=Ve.value.find((t=>t.nodeip===e.ip));s||Ve.value.push(a)}}}})),console.log(i),console.log(Ve.value),i.map((e=>e.ip))};(0,g.watch)((()=>e.appData),(()=>{null!==l.value&&(l.value.close(),l.value=null),Tt.value={series:[Ft(e.appData)/15*100]},Pt.value={series:[zt(e.appData)/59e3*100]},Dt.value={series:[Rt(e.appData)/820*100]},e.appData.compose.forEach((e=>{const t=e.userEnvironmentParameters||[];t.forEach((t=>{Object.prototype.hasOwnProperty.call(t,"port")&&(t.value=e.ports[t.port])}))})),Re.value=e.appData.compose[0],e.appData.isAutoEnterprise&&Lt().then((e=>{Ue.value=e,console.log("auto selected nodes",e)})).catch(console.log)}));const Zt=e=>`${e}${Date.now()}`,Mt=e=>{if(!m.value)return["No Flux ID"];const t=Zt(e),a=t.toLowerCase(),s=[`${a}.app.runonflux.io`];return s},Bt=async()=>{const e=await H.Z.appsDeploymentInformation(),{data:t}=e.data;"success"===e.data.status?tt.value=t.address:n("danger",e.data.data.message||e.data.data)};Bt();const Et=async()=>{try{if(!et.value)throw new Error("Please agree to Terms of Service");Ce.value=!1,ke.value=!1;const t=Zt(e.appData.name),a={version:e.appData.version,name:t,description:e.appData.description,owner:m.value,instances:He.value,compose:[]};if(e.appData.version>=5&&(a.contacts=[],a.geolocation=[],We.value&&a.geolocation.push(We.value),Ye.value)){const e=[Ye.value],t=Math.floor(999999999999999*Math.random()).toString(),s={contactsid:t,contacts:e},i=await ge.post("https://storage.runonflux.io/v1/contacts",s);if("error"===i.data.status)throw new Error(i.data.message||i.data);n("success","Successful upload of Contact Parameter to Flux Storage"),a.contacts=[`F_S_CONTACTS=https://storage.runonflux.io/v1/contacts/${t}`]}if(e.appData.version>=6){const e=Xe.value;a.expire=e[Qe.value].value||22e3}if(e.appData.version>=7)if(a.staticip=e.appData.staticip,e.appData.isAutoEnterprise){if(0===Ue.value.length){const e=await Lt();Ue.value=e}a.nodes=Ue.value}else a.nodes=e.appData.nodes||[];for(let l=0;l<e.appData.compose.length;l+=1){const t=e.appData.compose[l];let s=JSON.parse(JSON.stringify(t.environmentParameters));const i=t.userEnvironmentParameters||[];if(i.forEach((e=>{s.push(`${e.name}=${e.value}`)})),t.envFluxStorage){const e=Math.floor(999999999999999*Math.random()).toString(),t={envid:e,env:s},a=await ge.post("https://storage.runonflux.io/v1/env",t);if("error"===a.data.status)throw new Error(a.data.message||a.data);n("success","Successful upload of Environment Parameters to Flux Storage"),s=[`F_S_ENV=https://storage.runonflux.io/v1/env/${e}`]}let{ports:o}=t;if(t.portSpecs){o=[];for(let e=0;e<t.portSpecs.length;e+=1){const a=t.portSpecs[e];if("string"!==typeof a)throw new Error("Port Specs Range for the application on Marketplace is not properly configured");{const e=Number(a.split("-")[0]),t=Number(a.split("-")[1]);o.push(Math.floor(Math.random()*(t-e+1)+e))}}}e.appData.name.toLowerCase().includes("streamr")&&(s.push(`STREAMR__BROKER__CLIENT__NETWORK__CONTROL_LAYER__WEBSOCKET_PORT_RANGE__MIN=${o[0]}`),s.push(`STREAMR__BROKER__CLIENT__NETWORK__CONTROL_LAYER__WEBSOCKET_PORT_RANGE__MAX=${o[0]}`),s.push("LOG_COLORS=false"),t.containerPorts=[o[0]]);const r={name:t.name,description:t.description,repotag:t.repotag,ports:o,containerPorts:t.containerPorts,environmentParameters:s,commands:t.commands,containerData:t.containerData,domains:t.domains,cpu:t.cpu,ram:t.ram,hdd:t.hdd,tiered:t.tiered};if(t.tiered&&(r.cpubasic=t.cpubasic,r.rambasic=t.rambasic,r.hddbasic=t.hddbasic,r.cpusuper=t.cpusuper,r.ramsuper=t.ramsuper,r.hddsuper=t.hddsuper,r.cpubamf=t.cpubamf,r.rambamf=t.rambamf,r.hddbamf=t.hddbamf),e.appData.version>=7){r.secrets=e.appData.secrets||"",r.repoauth=e.appData.repoauth||"";const a=[],s=t.userSecrets||[];if(s.forEach((e=>{a.push(`${e.name}=${e.value}`)})),a.length>0){const e=await $t(JSON.stringify(a),Ve.value);if(!e)throw new Error("Secrets failed to encrypt");r.secrets=e}}a.compose.push(r)}Je.value=a;const s=await H.Z.appRegistrationVerificaiton(a);if(console.log(s),"error"===s.data.status)throw new Error(s.data.data.message||s.data.data);const i=s.data.data;Le.value=0,Ze.value=0,Ee.value=!1,Ne.value="";const o=JSON.parse(JSON.stringify(i));o.priceUSD=e.appData.priceUSD,console.log(o.priceUSD),He.value&&He.value>3&&(o.priceUSD=Number((o.priceUSD*He.value/3).toFixed(2))),"1"===Qe.value?o.priceUSD*=3:"2"===Qe.value?o.priceUSD*=6:"3"===Qe.value&&(o.priceUSD*=12);const r=await H.Z.appPriceUSDandFlux(o);if("error"===r.data.status)throw new Error(r.data.data.message||r.data.data);Ze.value=+r.data.data.usd,Number.isNaN(+r.data.data.fluxDiscount)?(Ee.value=!0,n("danger","Not possible to complete payment with Flux crypto currency")):(Le.value=+r.data.data.flux,Ne.value=+r.data.data.fluxDiscount),null!==l.value&&(l.value.close(),l.value=null),$e.value=Date.now(),Ie.value=i,De.value=`${Pe.value}${Te.value}${JSON.stringify(i)}${Date.now()}`,Oe.value=null,Ae.value=null,_e.value=!0}catch(t){console.log(t),n("danger",t.message||t)}},Nt={height:150,type:"radialBar",sparkline:{enabled:!0},dropShadow:{enabled:!0,blur:3,left:1,top:1,opacity:.1}},Ot={height:200,type:"radialBar",sparkline:{enabled:!0},dropShadow:{enabled:!0,blur:3,left:1,top:1,opacity:.1}},jt={chart:Ot,colors:[W.j.primary],labels:["CORES"],stroke:{lineCap:"round"},plotOptions:{radialBar:{offsetY:0,startAngle:0,endAngle:360,hollow:{size:"65%"},dataLabels:{name:{offsetY:-15,color:W.j.secondary,fontSize:"1.5rem"},value:{formatter:e=>(15*parseFloat(e)/100).toFixed(1),offsetY:10,color:W.j.success,fontSize:"2.86rem",fontWeight:"300"}}}}},qt={chart:Nt,colors:[W.j.primary],labels:["CORES"],stroke:{lineCap:"round"},plotOptions:{radialBar:{offsetY:0,startAngle:0,endAngle:360,hollow:{size:"65%"},dataLabels:{name:{offsetY:-15,color:W.j.secondary,fontSize:"1.2rem"},value:{formatter:e=>(15*parseFloat(e)/100).toFixed(1),offsetY:10,color:W.j.success,fontSize:"2rem",fontWeight:"300"}}}}},Ut={chart:Ot,colors:[W.j.primary],labels:["MB"],stroke:{lineCap:"round"},plotOptions:{radialBar:{offsetY:0,startAngle:0,endAngle:360,hollow:{size:"65%"},dataLabels:{name:{offsetY:-15,color:W.j.secondary,fontSize:"1.5rem"},value:{formatter:e=>(59e3*parseFloat(e)/100).toFixed(0),offsetY:10,color:W.j.success,fontSize:"2.86rem",fontWeight:"300"}}}}},Vt={chart:Nt,colors:[W.j.primary],labels:["MB"],stroke:{lineCap:"round"},plotOptions:{radialBar:{offsetY:0,startAngle:0,endAngle:360,hollow:{size:"65%"},dataLabels:{name:{offsetY:-15,color:W.j.secondary,fontSize:"1.2rem"},value:{formatter:e=>(59e3*parseFloat(e)/100).toFixed(0),offsetY:10,color:W.j.success,fontSize:"2rem",fontWeight:"300"}}}}},Wt={chart:Ot,colors:[W.j.primary],labels:["GB"],stroke:{lineCap:"round"},plotOptions:{radialBar:{offsetY:0,startAngle:0,endAngle:360,hollow:{size:"65%"},dataLabels:{name:{offsetY:-15,color:W.j.secondary,fontSize:"1.5rem"},value:{formatter:e=>(820*parseFloat(e)/100).toFixed(0),offsetY:10,color:W.j.success,fontSize:"2.86rem",fontWeight:"300"}}}}},Yt={chart:Nt,colors:[W.j.primary],labels:["GB"],stroke:{lineCap:"round"},plotOptions:{radialBar:{offsetY:0,startAngle:0,endAngle:360,hollow:{size:"65%"},dataLabels:{name:{offsetY:-15,color:W.j.secondary,fontSize:"1.2rem"},value:{formatter:e=>(820*parseFloat(e)/100).toFixed(0),offsetY:10,color:W.j.success,fontSize:"2rem",fontWeight:"300"}}}}},Ht=async()=>{const{copy:e}=(0,te.VPI)({source:De.value,legacy:!0});e(),Ge.value="Copied!",setTimeout((async()=>{await(0,g.nextTick)();const e=Ke.value;e&&(e.blur(),Ge.value="")}),1e3),setTimeout((()=>{Ge.value="Copy to clipboard"}),1500)},Jt=async()=>{const e=localStorage.getItem("zelidauth"),t={type:Pe.value,version:Te.value,appSpecification:Ie.value,timestamp:$e.value,signature:Ae.value};n("info","Propagating message accross Flux network..."),Ce.value=!0;const a=await H.Z.registerApp(e,t).catch((e=>{Ce.value=!1,n("danger",e.message||e)}));Ce.value=!1,console.log(a),"success"===a.data.status?(ke.value=!0,Oe.value=a.data.data,n("success",a.data.data.message||a.data.data)):n("danger",a.data.data.message||a.data.data);const s=await(0,oe.Z)();s&&(je.value=s.stripe,qe.value=s.paypal)},Gt=t=>{Re.value=e.appData.compose[t]},Kt=()=>{ze.value=!0},Xt=e=>{null!==Oe.value&&!ze.value&&_e.value&&(e.preventDefault(),ze.value=!0)},Qt=()=>{ze.value=!1,_e.value=!1},ea=()=>{const e=document.getElementById("firebaseui-auth-container");if(e){const t=ie.I.AuthUI.getInstance();f.value=t||new ie.I.AuthUI(se.Z.auth()),f.value?f.value.start(e,Q):console.error("Failed to initialize FirebaseUI AuthUI instance")}};return(0,g.watch)((()=>e.isActive),(async e=>{e&&(await(0,g.nextTick)(),ea())})),(0,g.onMounted)((async()=>{m.value||F()})),{closeLaunchModals:Qt,tosAgreed:et,loading:Ce,completed:ke,perfectScrollbarSettings:_t,resolveTagVariant:o,resolveCpu:Ft,resolveRam:zt,resolveHdd:Rt,constructAutomaticDomains:Mt,checkFluxSpecificationsAndFormatMessage:Et,timeoptions:he,cpuRadialBar:jt,cpuRadialBarSmall:qt,cpu:Tt,ramRadialBar:Ut,ramRadialBarSmall:Vt,ram:Pt,hddRadialBar:Wt,hddRadialBarSmall:Yt,hdd:Dt,ui:f,loginForm:p,initiateLoginWS:X,initMetamaskLogin:ye,loginPhrase:c,resetModal:B,handleOk:N,login:Z,modalShow:r,emailLogin:$,initSSPLogin:xe,createAccount:L,handleSignInSuccessWithAuthResult:I,cancelVerification:T,ssoVerification:u,createSSOForm:h,emailForm:v,getZelIdLoginPhrase:F,userZelid:m,dataToSign:De,selectedGeolocation:We,contact:Ye,appInstances:He,signClient:d,signature:Ae,appPricePerDeployment:Le,appPricePerDeploymentUSD:Ze,applicationPriceFluxDiscount:Ne,applicationPriceFluxError:Ee,fiatCheckoutURL:Me,checkoutLoading:Be,registrationHash:Oe,deploymentAddress:tt,stripeEnabled:je,paypalEnabled:qe,validTill:st,subscribedTill:it,register:Jt,callbackValue:nt,callbackValueLogin:V,initiateSignWS:gt,initMetamask:ht,initSSP:bt,initSSPpay:xt,initPaypalPay:St,initStripePay:yt,openSite:wt,initSignFluxSSO:ut,initZelcorePay:pt,initWalletConnect:kt,initWalletConnectLogin:be,onSessionConnect:Ct,siwe:ft,copyMessageToSign:Ht,launchModalShowing:_e,componentParamsModalShowing:Fe,confirmLaunchDialogCloseShowing:ze,confirmLaunchDialogFinish:Kt,confirmLaunchDialogCancel:Xt,expirePosition:Qe,getExpireLabel:ot,currentComponent:Re,componentSelected:Gt,tierColors:G.Z,skin:s,isDark:i,tooltipText:Ge,copyButtonRef:Ke}}},xe=be;var we=a(1001),ye=(0,we.Z)(xe,_,F,!1,null,"690f155a",null);const Se=ye.exports;var Ce=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-details"},[t("div",{staticClass:"app-detail-header"},[t("div",{staticClass:"app-header-left d-flex align-items-center flex-grow-1"},[t("span",{staticClass:"go-back mr-1"},[t("feather-icon",{staticClass:"align-bottom",attrs:{icon:e.$store.state.appConfig.isRTL?"ChevronRightIcon":"ChevronLeftIcon",size:"20"},on:{click:function(t){return e.$emit("close-sharednode-view")}}})],1),t("h4",{staticClass:"app-name mb-0 flex-grow-1"},[e._v(" Titan Shared Nodes (Beta) ")]),t("a",{attrs:{href:"https://fluxofficial.medium.com/flux-titan-nodes-guide-useful-staking-e527278b1a2a",target:"_blank",rel:"noopener noreferrer"}},[e._v(" Titan Guide ")])])]),t("vue-perfect-scrollbar",{staticClass:"marketplace-app-list scroll-area",attrs:{settings:e.perfectScrollbarSettings}},[t("b-overlay",{attrs:{variant:"transparent",opacity:"0.95",blur:"5px","no-center":"",show:e.showOverlay()},scopedSlots:e._u([{key:"overlay",fn:function(){return[t("div",{staticClass:"mt-5"},[t("div",{staticClass:"text-center"},[e.titanConfig&&e.titanConfig.maintenanceMessage?t("b-card",{staticClass:"mx-auto",staticStyle:{"max-width":"50rem"},attrs:{"border-variant":"primary",title:"Titan Maintenance"}},[t("h1",[e._v(" "+e._s(e.titanConfig.maintenanceMessage)+" ")])]):t("b-spinner",{staticStyle:{width:"10rem",height:"10rem"},attrs:{type:"border",variant:"danger"}})],1)])]},proxy:!0}])},[t("b-card",{attrs:{"bg-variant":"transparent"}},[t("b-row",{staticClass:"match-height d-xxl-flex d-none"},[t("b-col",{attrs:{xl:"4"}},[t("b-card",{attrs:{"border-variant":"primary","no-body":""}},[t("b-card-title",{staticClass:"text-white text-uppercase shared-node-info-title"},[e._v(" Active Nodes ")]),t("b-card-body",{staticClass:"shared-node-info-body"},[t("h1",{staticClass:"active-node-value"},[e._v(" "+e._s(e.nodes.length)+" ")]),t("div",{staticClass:"d-flex"},[t("h4",{staticClass:"flex-grow-1"},[e._v(" Total: "+e._s(e.totalCollateral.toLocaleString())+" Flux ")]),t("b-avatar",{attrs:{size:"24",variant:"primary",button:""},on:{click:function(t){return e.showNodeInfoDialog()}}},[t("v-icon",{attrs:{scale:"0.9",name:"info"}})],1)],1)])],1)],1),t("b-col",{attrs:{xl:"4"}},[t("b-card",{attrs:{"border-variant":"primary","no-body":""}},[t("b-card-title",{staticClass:"text-white text-uppercase shared-node-info-title"},[e._v(" Titan Stats ")]),t("b-card-body",{staticClass:"shared-node-info-body"},[t("div",{staticClass:"d-flex flex-column"},[t("div",{staticClass:"d-flex flex-row"},[t("h5",{staticClass:"flex-grow-1"},[e._v(" My Flux Total ")]),t("h4",[e._v(" "+e._s(e.myStakes?e.toFixedLocaleString(e.myStakes.reduce(((e,t)=>e+t.collateral),0),0):0)+" ")])]),t("div",{staticClass:"d-flex flex-row"},[t("h5",{staticClass:"flex-grow-1"},[e._v(" Titan Flux Total ")]),t("h4",[e._v(" "+e._s(e.titanStats?e.toFixedLocaleString(e.titanStats.total):"...")+" ")])]),t("div",{staticClass:"d-flex flex-row"},[t("h5",{staticClass:"flex-grow-1"},[e._v(" Current Supply ")]),t("h4",[e._v(" "+e._s(e.titanStats?e.toFixedLocaleString(e.titanStats.currentsupply):"...")+" ")])]),t("div",{staticClass:"d-flex flex-row"},[t("h5",{staticClass:"flex-grow-1"},[e._v(" Max Supply ")]),t("h4",[e._v(" "+e._s(e.titanStats?e.toFixedLocaleString(e.titanStats.maxsupply):"...")+" ")])]),t("div",[t("hr")]),t("div",{staticClass:"d-flex flex-row"},[t("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:e.tooMuchStaked?e.titanConfig?e.titanConfig.stakeDisabledMessage:e.defaultStakeDisabledMessage:"",expression:"tooMuchStaked ? (titanConfig ? titanConfig.stakeDisabledMessage : defaultStakeDisabledMessage) : ''",modifiers:{hover:!0,bottom:!0}}],staticClass:"d-flex flex-row flex-grow-1"},[e.userZelid?t("b-button",{staticClass:"flex-grow-1 .btn-relief-primary",attrs:{variant:"gradient-primary",disabled:e.tooMuchStaked},on:{click:function(t){return e.showStakeDialog(!1)}}},[e._v(" Activate Titan ")]):e._e()],1)])])])],1)],1),t("b-col",{attrs:{xl:"4"}},[t("b-card",{attrs:{"border-variant":"primary","no-body":""}},[t("b-card-title",{staticClass:"text-white text-uppercase shared-node-info-title"},[e._v(" Estimated % Lockup in Flux ")]),e.titanConfig?t("b-card-body",{staticClass:"shared-node-info-body"},[e._l(e.titanConfig.lockups,(function(a){return t("div",{key:a.time,staticClass:"lockup"},[t("div",{staticClass:"d-flex flex-row"},[t("h2",{staticClass:"flex-grow-1"},[e._v(" "+e._s(a.name)+" ")]),t("h1",[e._v(" ~"+e._s((100*a.apr).toFixed(2))+"% ")])])])})),t("div",{staticClass:"float-right"},[t("b-avatar",{attrs:{size:"24",variant:"primary",button:""},on:{click:function(t){return e.showAPRInfoDialog()}}},[t("v-icon",{attrs:{scale:"0.9",name:"info"}})],1)],1)],2):e._e()],1)],1)],1),t("b-row",{staticClass:"match-height d-xxl-none d-xl-flex d-lg-flex d-md-flex d-sm-flex"},[t("b-col",{attrs:{sm:"12"}},[t("b-card",{attrs:{"border-variant":"primary","no-body":""}},[t("b-card-title",{staticClass:"text-white text-uppercase",staticStyle:{"padding-left":"1.5rem","padding-top":"1rem","margin-bottom":"0"}},[e._v(" Active Nodes ")]),t("b-row",{staticClass:"match-height"},[t("b-col",{attrs:{cols:"6"}},[t("h1",{staticClass:"active-node-value-xl"},[e._v(" "+e._s(e.nodes.length)+" ")])]),t("b-col",{attrs:{cols:"6"}},[t("h4",{staticClass:"text-center",staticStyle:{"padding-top":"2rem"}},[e._v(" Total: "+e._s(e.totalCollateral.toLocaleString())+" Flux ")]),t("h4",{staticClass:"text-center"},[t("b-avatar",{attrs:{size:"24",variant:"primary",button:""},on:{click:function(t){return e.showNodeInfoDialog()}}},[t("v-icon",{attrs:{scale:"0.9",name:"info"}})],1)],1)])],1)],1)],1),t("b-col",{attrs:{sm:"12"}},[t("b-row",{staticClass:"match-height"},[t("b-col",{attrs:{sm:"6"}},[t("b-card",{attrs:{"border-variant":"primary","no-body":""}},[t("b-card-title",{staticClass:"text-white text-uppercase shared-node-info-title-xl"},[e._v(" Titan Stats ")]),t("b-card-body",{staticClass:"shared-node-info-body-xl"},[t("div",{staticClass:"d-flex flex-column"},[t("div",{staticClass:"d-flex flex-row"},[t("h5",{staticClass:"flex-grow-1"},[e._v(" My Flux Total ")]),t("h4",[e._v(" "+e._s(e.myStakes?e.toFixedLocaleString(e.myStakes.reduce(((e,t)=>e+t.collateral),0),0):0)+" ")])]),t("div",{staticClass:"d-flex flex-row"},[t("h5",{staticClass:"flex-grow-1"},[e._v(" Titan Flux Total ")]),t("h4",[e._v(" "+e._s(e.titanStats?e.toFixedLocaleString(e.titanStats.total):"...")+" ")])]),t("div",{staticClass:"d-flex flex-row"},[t("h5",{staticClass:"flex-grow-1"},[e._v(" Current Supply ")]),t("h4",[e._v(" "+e._s(e.titanStats?e.toFixedLocaleString(e.titanStats.currentsupply):"...")+" ")])]),t("div",{staticClass:"d-flex flex-row"},[t("h5",{staticClass:"flex-grow-1"},[e._v(" Max Supply ")]),t("h4",[e._v(" "+e._s(e.titanStats?e.toFixedLocaleString(e.titanStats.maxsupply):"...")+" ")])]),t("div",[t("hr")]),t("div",{staticClass:"d-flex flex-row"},[t("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:e.tooMuchStaked?e.titanConfig?e.titanConfig.stakeDisabledMessage:e.defaultStakeDisabledMessage:"",expression:"tooMuchStaked ? (titanConfig ? titanConfig.stakeDisabledMessage : defaultStakeDisabledMessage) : ''",modifiers:{hover:!0,bottom:!0}}],staticClass:"d-flex flex-row flex-grow-1"},[e.userZelid?t("b-button",{staticClass:"flex-grow-1 .btn-relief-primary",attrs:{variant:"gradient-primary",disabled:e.tooMuchStaked},on:{click:function(t){return e.showStakeDialog(!1)}}},[e._v(" Activate Titan ")]):e._e()],1)])])])],1)],1),t("b-col",{attrs:{sm:"6"}},[t("b-card",{attrs:{"border-variant":"primary","no-body":""}},[t("b-card-title",{staticClass:"text-white text-uppercase shared-node-info-title-xl"},[e._v(" Lockup Period APR ")]),e.titanConfig?t("b-card-body",{staticClass:"shared-node-info-body-xl"},[e._l(e.titanConfig.lockups,(function(a){return t("div",{key:a.time,staticClass:"lockup"},[t("div",{staticClass:"d-flex flex-row"},[t("h4",{staticClass:"flex-grow-1"},[e._v(" "+e._s(a.name)+" ")]),t("h4",[e._v(" ~"+e._s((100*a.apr).toFixed(2))+"% ")])])])})),t("div",{staticClass:"float-right"},[t("b-avatar",{attrs:{size:"24",variant:"primary",button:""},on:{click:function(t){return e.showAPRInfoDialog()}}},[t("v-icon",{attrs:{scale:"0.9",name:"info"}})],1)],1)],2):e._e()],1)],1)],1)],1)],1)],1),e.userZelid?t("b-row",{},[t("b-col",{staticClass:"d-xxl-none d-xl-flex d-lg-flex d-md-flex d-sm-flex"},[t("b-card",{staticClass:"flex-grow-1",attrs:{"no-body":""}},[t("b-card-title",{staticClass:"stakes-title"},[e._v(" Redeem Flux ")]),t("b-card-body",[t("div",{staticClass:"d-flex flex-row"},[t("h5",{staticClass:"flex-grow-1"},[e._v(" Paid: ")]),t("h4",[e._v(" "+e._s(e.calculatePaidRewards())+" Flux ")])]),t("div",{staticClass:"d-flex flex-row"},[t("h5",{staticClass:"flex-grow-1"},[e._v(" Available: ")]),t("h4",[e._v(" "+e._s(e.toFixedLocaleString(e.totalReward,2))+" Flux ")])]),t("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:e.totalReward<=(e.titanConfig?e.titanConfig.redeemFee:0)?"Available balance is less than the redeem fee":"",expression:"totalReward <= (titanConfig ? titanConfig.redeemFee : 0) ? 'Available balance is less than the redeem fee' : ''",modifiers:{hover:!0,bottom:!0}}],staticClass:"float-right",staticStyle:{display:"inline-block"}},[e.totalReward>e.minStakeAmount?t("b-button",{staticClass:"mt-2 mr-1",attrs:{disabled:e.totalReward>=e.totalCollateral-e.titanStats.total,variant:"danger",size:"sm",pill:""},on:{click:function(t){return e.showStakeDialog(!0)}}},[e._v(" Re-invest Funds ")]):e._e(),t("b-button",{staticClass:"float-right mt-2",attrs:{id:"redeemButton",variant:"danger",size:"sm",pill:"",disabled:e.totalReward<=(e.titanConfig?e.titanConfig.redeemFee:0)},on:{click:function(t){return e.showRedeemDialog()}}},[e._v(" Redeem ")])],1)])],1)],1),t("b-col",{attrs:{xxl:"9"}},[t("b-card",{staticClass:"sharednodes-container",attrs:{"no-body":""}},[t("b-card-body",[t("b-tabs",[t("b-tab",{attrs:{active:"",title:"Active"}},[t("ul",{staticClass:"marketplace-media-list"},e._l(e.myStakes,(function(a){return t("b-media",{key:a.uuid,attrs:{tag:"li","no-body":""},on:{click:function(t){return e.showActiveStakeInfoDialog(a)}}},[t("b-media-body",{staticClass:"app-media-body",staticStyle:{overflow:"inherit"}},[t("div",{staticClass:"d-flex flex-row row"},[-1===a.confirmations?t("b-avatar",{staticClass:"node-status mt-auto mb-auto",attrs:{size:"48",variant:"danger",button:""},on:{click:[function(t){return e.showPaymentDetailsDialog(a)},function(e){e.stopPropagation()}]}},[t("v-icon",{attrs:{scale:"1.75",name:"hourglass-half"}})],1):e.titanConfig&&a.confirmations>=e.titanConfig.confirms?t("b-avatar",{staticClass:"node-status mt-auto mb-auto",attrs:{size:"48",variant:"light-success"}},[t("v-icon",{attrs:{scale:"1.75",name:"check"}})],1):t("b-avatar",{staticClass:"node-status mt-auto mb-auto",attrs:{size:"48",variant:"light-warning"}},[e._v(" "+e._s(a.confirmations)+"/"+e._s(e.titanConfig?e.titanConfig.confirms:0)+" ")]),t("div",{staticClass:"d-flex flex-column seat-column col",staticStyle:{"flex-grow":"0.8"}},[t("h3",{staticClass:"mr-auto ml-auto mt-auto mb-auto"},[e._v(" "+e._s(a.collateral.toLocaleString())+" Flux ")])]),t("div",{staticClass:"d-flex flex-column seat-column col"},[t("h4",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:new Date(1e3*a.timestamp).toLocaleString(e.timeoptions),expression:"new Date(stake.timestamp * 1000).toLocaleString(timeoptions)",modifiers:{hover:!0,top:!0}}],staticClass:"mr-auto ml-auto text-center"},[e._v(" Start Date: "+e._s(new Date(1e3*a.timestamp).toLocaleDateString())+" ")]),t("h5",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:new Date(1e3*a.expiry).toLocaleString(e.timeoptions),expression:"new Date(stake.expiry * 1000).toLocaleString(timeoptions)",modifiers:{hover:!0,top:!0}}],staticClass:"mr-auto ml-auto text-center"},[e._v(" End Date: "+e._s(new Date(1e3*a.expiry).toLocaleDateString())+" ")])]),t("div",{staticClass:"d-flex flex-column seat-column col"},[t("h4",{staticClass:"mr-auto ml-auto"},[e._v(" Paid: "+e._s(e.toFixedLocaleString(a.paid,2))+" Flux ")]),t("h5",{staticClass:"mr-auto ml-auto"},[e._v(" Pending: "+e._s(e.toFixedLocaleString(a.reward,2))+" Flux ")])]),t("div",{staticClass:"d-flex flex-column seat-column col"},[t("h4",{staticClass:"mr-auto ml-auto text-center"},[e._v(" Monthly Flux ")]),e.titanConfig?t("h5",{staticClass:"mr-auto ml-auto"},[e._v(" ~"+e._s(e.toFixedLocaleString(e.calcMonthlyReward(a),2))+" Flux "),a.autoreinvest?t("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Stake will auto-reinvest",expression:"'Stake will auto-reinvest'",modifiers:{hover:!0,top:!0}}],attrs:{name:"sync"}}):e._e()],1):t("h5",{staticClass:"mr-auto ml-auto"},[e._v(" ... Flux ")])])],1),a.message?t("div",[t("div",{domProps:{innerHTML:e._s(a.message)}})]):e._e()])],1)})),1)]),e.myExpiredStakes.length>0?t("b-tab",{attrs:{title:"Expired"}},[t("ul",{staticClass:"marketplace-media-list"},e._l(e.myExpiredStakes,(function(a){return t("b-media",{key:a.uuid,attrs:{tag:"li","no-body":""}},[t("b-media-body",{staticClass:"app-media-body",staticStyle:{overflow:"inherit"}},[t("div",{staticClass:"d-flex flex-row row"},[t("b-avatar",{staticClass:"node-status mt-auto mb-auto",attrs:{size:"48",variant:"light-warning"}},[t("v-icon",{attrs:{scale:"1.75",name:"calendar-times"}})],1),t("div",{staticClass:"d-flex flex-column seat-column col",staticStyle:{"flex-grow":"0.8"}},[t("h3",{staticClass:"mr-auto ml-auto mt-auto mb-auto"},[e._v(" "+e._s(a.collateral.toLocaleString())+" Flux ")])]),t("div",{staticClass:"d-flex flex-column seat-column col"},[t("h4",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:new Date(1e3*a.timestamp).toLocaleString(e.timeoptions),expression:"new Date(stake.timestamp * 1000).toLocaleString(timeoptions)",modifiers:{hover:!0,top:!0}}],staticClass:"mr-auto ml-auto"},[e._v(" Start Date: "+e._s(new Date(1e3*a.timestamp).toLocaleDateString())+" ")]),t("h5",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:new Date(1e3*a.expiry).toLocaleString(e.timeoptions),expression:"new Date(stake.expiry * 1000).toLocaleString(timeoptions)",modifiers:{hover:!0,top:!0}}],staticClass:"mr-auto ml-auto"},[e._v(" End Date: "+e._s(new Date(1e3*a.expiry).toLocaleDateString())+" ")])]),t("div",{staticClass:"d-flex flex-column seat-column col"},[t("h4",{staticClass:"mr-auto ml-auto"},[e._v(" Paid: "+e._s(5===a.state?e.toFixedLocaleString(a.paid-a.collateral,2):e.toFixedLocaleString(a.paid,2))+" Flux ")]),t("h5",{staticClass:"mr-auto ml-auto"},[e._v(" Pending: "+e._s(e.toFixedLocaleString(a.reward,2))+" Flux ")])]),t("div",{staticClass:"d-flex"},[t("b-button",{staticClass:"float-right mt-1 mb-1",staticStyle:{width:"100px"},attrs:{variant:a.state>=5?"outline-secondary":"danger",size:"sm",disabled:a.state>=5||e.totalReward>=e.totalCollateral-e.titanStats.total,pill:""},on:{click:function(t){return e.showReinvestDialog(a)}}},[e._v(" "+e._s(a.state>=5?"Complete":"Reinvest")+" ")])],1)],1)])],1)})),1)]):e._e(),t("b-tab",{attrs:{title:"Payments"}},[t("ul",{staticClass:"marketplace-media-list"},[t("b-table",{staticClass:"payments-table",attrs:{striped:"",hover:"",responsive:"",items:e.myPayments,fields:e.paymentFields,"show-empty":"","empty-text":"No Payments"},scopedSlots:e._u([{key:"cell(timestamp)",fn:function(t){return[e._v(" "+e._s(new Date(t.item.timestamp).toLocaleString(e.timeoptions))+" ")]}},{key:"cell(total)",fn:function(a){return[t("p",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.right",value:`Amount = ${e.toFixedLocaleString(a.item.total,2)} Flux - ${a.item.fee} Flux redeem fee`,expression:"`Amount = ${toFixedLocaleString(data.item.total, 2)} Flux - ${data.item.fee} Flux redeem fee`",modifiers:{hover:!0,right:!0}}],staticStyle:{"margin-bottom":"0"}},[e._v(" "+e._s(e.toFixedLocaleString(a.item.total-a.item.fee,2))+" Flux ")])]}},{key:"cell(address)",fn:function(a){return[t("a",{attrs:{href:`https://explorer.runonflux.io/address/${a.item.address}`,target:"_blank",rel:"noopener noreferrer"}},[e._v(" "+e._s(a.item.address)+" ")])]}},{key:"cell(txid)",fn:function(a){return[a.item.txid?t("a",{attrs:{href:`https://explorer.runonflux.io/tx/${a.item.txid}`,target:"_blank",rel:"noopener noreferrer"}},[e._v(" View on Explorer ")]):t("h5",[e._v(" "+e._s(a.item.state||"Processing")+" ")])]}}])})],1)])],1)],1)],1)],1),t("b-col",{staticClass:"d-xxl-flex d-xl-none d-lg-none d-md-none d-sm-none",attrs:{xxl:"3"}},[t("b-card",{staticClass:"flex-grow-1",attrs:{"no-body":""}},[t("b-card-title",{staticClass:"stakes-title"},[e._v(" Redeem Flux ")]),t("b-card-body",[t("div",{staticClass:"d-flex flex-row"},[t("h5",{staticClass:"flex-grow-1"},[e._v(" Paid: ")]),t("h4",[e._v(" "+e._s(e.calculatePaidRewards())+" Flux ")])]),t("div",{staticClass:"d-flex flex-row"},[t("h5",{staticClass:"flex-grow-1"},[e._v(" Available: ")]),t("h4",[e._v(" "+e._s(e.toFixedLocaleString(e.totalReward,2))+" Flux ")])]),t("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:e.totalReward<=(e.titanConfig?e.titanConfig.minimumRedeem:50)?`Available balance is less than the minimum redeem amount (${e.titanConfig?e.titanConfig.minimumRedeem:50} Flux)`:"",expression:"totalReward <= (titanConfig ? titanConfig.minimumRedeem : 50) ? `Available balance is less than the minimum redeem amount (${(titanConfig ? titanConfig.minimumRedeem : 50)} Flux)` : ''",modifiers:{hover:!0,bottom:!0}}],staticClass:"float-right",staticStyle:{display:"inline-block"}},[e.totalReward>e.minStakeAmount?t("b-button",{staticClass:"mt-2 mr-1",attrs:{disabled:e.totalReward>=e.totalCollateral-e.titanStats.total,variant:"danger",size:"sm",pill:""},on:{click:function(t){return e.showStakeDialog(!0)}}},[e._v(" Re-invest Funds ")]):e._e(),t("b-button",{staticClass:"float-right mt-2",attrs:{id:"redeemButton",variant:"danger",size:"sm",pill:"",disabled:e.totalReward<=(e.titanConfig?e.titanConfig.redeemFee:0)||e.totalReward<=(e.titanConfig?e.titanConfig.minimumRedeem:50)},on:{click:function(t){return e.showRedeemDialog()}}},[e._v(" Redeem ")])],1)])],1)],1)],1):t("b-card",{attrs:{title:"My Active Flux"}},[t("h5",[e._v(" Please login using your Flux ID to view your active Flux ")])])],1)],1),t("b-modal",{attrs:{title:"Titan Nodes",size:"lg",centered:"","button-size":"sm","ok-only":""},on:{ok:()=>e.nodeModalShowing=!1},model:{value:e.nodeModalShowing,callback:function(t){e.nodeModalShowing=t},expression:"nodeModalShowing"}},e._l(e.nodes,(function(a){return t("b-card",{key:a.uuid,attrs:{title:a.name}},[t("b-row",[t("b-col",[t("h5",[e._v(" Location: "+e._s(a.location)+" ")])]),t("b-col",[t("h5",[e._v(" Collateral: "+e._s(e.toFixedLocaleString(a.collateral,0))+" ")])])],1),t("b-row",[t("b-col",[t("h5",[e._v(" Created: "+e._s(new Date(a.created).toLocaleDateString())+" ")])]),t("b-col",[t("b-button",{attrs:{pill:"",size:"sm",variant:"primary"},on:{click:function(t){return e.visitNode(a)}}},[e._v(" Visit ")])],1)],1)],1)})),1),t("b-modal",{attrs:{title:"Lockup APR",size:"md",centered:"","button-size":"sm","ok-only":""},on:{ok:()=>e.aprModalShowing=!1},model:{value:e.aprModalShowing,callback:function(t){e.aprModalShowing=t},expression:"aprModalShowing"}},[t("b-card",{attrs:{title:"APR Calculations"}},[t("p",{staticClass:"text-center"},[e._v(" The APR for a Titan Shared Nodes lockup is dependent on the number of active Stratus nodes on the Flux network and the current block reward. ")]),t("p",{staticClass:"text-center"},[e._v(" APR is calculated using this basic formula: ")]),t("p",{staticClass:"text-center"},[e._v(" Per block reward (11.25) x Blocks per day (720) x 365 /"),t("br"),e._v("  (Number of Stratus nodes * 40,000) ")]),t("p",{staticClass:"text-center"},[t("br"),t("b-avatar",{attrs:{size:"24",variant:"warning",button:""}},[t("v-icon",{attrs:{scale:"0.9",name:"info"}})],1),e._v(" APR does not mean the actual or predicted returns in fiat currency or Flux. ")],1)])],1),t("b-modal",{attrs:{title:"Redeem Rewards",size:"lg",centered:"","button-size":"sm","ok-only":"","no-close-on-backdrop":"","no-close-on-esc":"","ok-title":"Cancel"},on:{ok:function(t){e.redeemModalShowing=!1,e.getMyPayments(!0)}},model:{value:e.redeemModalShowing,callback:function(t){e.redeemModalShowing=t},expression:"redeemModalShowing"}},[t("form-wizard",{staticClass:"wizard-vertical mb-3",attrs:{color:e.tierColors.cumulus,title:null,subtitle:null,layout:"vertical","back-button-text":"Previous"},on:{"on-complete":function(t){return e.confirmRedeemDialogFinish()}}},[t("tab-content",{attrs:{title:"Redeem Amount"}},[t("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Redeem Amount"}},[t("h4",[e._v(" Available: "+e._s(e.toFixedLocaleString(e.totalReward,2))+" Flux ")]),t("h4",{staticStyle:{"margin-top":"10px"}},[e._v(" You will receive ")]),t("h3",[e._v(" "+e._s(e.toFixedLocaleString(e.totalReward-e.calculateRedeemFee(),2))+" Flux ")]),t("h6",[e._v(" ("),t("span",{staticClass:"text-warning"},[e._v("Redeem Fee:")]),e.titanConfig&&e.titanConfig.maxRedeemFee?t("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:`Fee of ${e.titanConfig.redeemFee}% of your rewards, capped at ${e.titanConfig.maxRedeemFee} Flux`,expression:"`Fee of ${titanConfig.redeemFee}% of your rewards, capped at ${titanConfig.maxRedeemFee} Flux`",modifiers:{hover:!0,bottom:!0}}],staticClass:"text-danger"},[e._v(" "+e._s(e.toFixedLocaleString(e.calculateRedeemFee(),8))+" Flux ")]):t("span",{staticClass:"text-danger"},[e._v(" "+e._s(e.titanConfig?e.titanConfig.redeemFee:"...")+" Flux ")]),e._v(") ")])])],1),t("tab-content",{attrs:{title:"Redeem Address","before-change":()=>e.checkRedeemAddress()}},[t("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Choose Redeem Address"}},[t("b-form-select",{attrs:{options:e.redeemAddresses,disabled:e.sendingRequest||e.requestSent||e.requestFailed},scopedSlots:e._u([{key:"first",fn:function(){return[t("b-form-select-option",{attrs:{value:null,disabled:""}},[e._v(" -- Please select an address -- ")])]},proxy:!0}]),model:{value:e.redeemAddress,callback:function(t){e.redeemAddress=t},expression:"redeemAddress"}})],1)],1),t("tab-content",{attrs:{title:"Sign Request","before-change":()=>null!==e.signature}},[t("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Sign Redeem Request with Zelcore"}},[t("a",{on:{click:e.initiateSignWS}},[t("img",{staticClass:"zelidLogin mb-2",attrs:{src:a(96358),alt:"Flux ID",height:"100%",width:"100%"}})]),t("b-form-input",{staticClass:"mb-1",attrs:{id:"data",disabled:!0},model:{value:e.dataToSign,callback:function(t){e.dataToSign=t},expression:"dataToSign"}}),t("b-form-input",{attrs:{id:"signature",disabled:e.sendingRequest||e.requestSent||e.requestFailed},model:{value:e.signature,callback:function(t){e.signature=t},expression:"signature"}})],1)],1),t("tab-content",{attrs:{title:"Request Redeem","before-change":()=>!0===e.requestSent}},[t("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Submit Redeem Request"}},[t("div",{staticClass:"mt-3 mb-auto"},[t("b-button",{attrs:{size:"lg",disabled:e.sendingRequest||e.requestSent,variant:"warning"},on:{click:e.requestRedeem}},[e._v(" Submit Request ")]),e.requestSent?t("h4",{staticClass:"mt-3 text-success"},[e._v(" Redeem request has been received and will be processed within 24 hours ")]):e._e(),e.requestFailed?t("h4",{staticClass:"mt-3 text-danger"},[e._v(" Redeem request failed ")]):e._e()],1)])],1)],1)],1),t("b-modal",{attrs:{title:"Pending Payment",size:"md",centered:"","button-size":"sm","ok-only":"","ok-title":"OK"},on:{ok:function(t){e.paymentDetailsDialogShowing=!1}},model:{value:e.paymentDetailsDialogShowing,callback:function(t){e.paymentDetailsDialogShowing=t},expression:"paymentDetailsDialogShowing"}},[e.selectedStake?t("b-card",{staticClass:"text-center payment-details-card",attrs:{title:"Send Funds"}},[t("b-card-text",[e._v(" To complete activation, send "),t("span",{staticClass:"text-success"},[e._v(e._s(e.toFixedLocaleString(e.selectedStake.collateral)))]),e._v(" FLUX to address"),t("br"),t("h5",{staticClass:"text-wrap ml-auto mr-auto text-warning mt-1",staticStyle:{width:"25rem"}},[e._v(" "+e._s(e.titanConfig.fundingAddress)+" ")]),e._v(" with the following message"),t("br"),t("h5",{staticClass:"text-wrap ml-auto mr-auto text-warning mt-1",staticStyle:{width:"25rem"}},[e._v(" "+e._s(e.selectedStake.signatureHash)+" ")]),t("div",{staticClass:"d-flex flex-row mt-2"},[t("h3",{staticClass:"col text-center mt-2"},[e._v(" Pay with"),t("br"),e._v("Zelcore ")]),t("a",{staticClass:"col",on:{click:e.initZelcorePayB}},[t("img",{staticClass:"zelidLogin",attrs:{src:a(96358),alt:"Flux ID",height:"100%",width:"100%"}})])]),t("h5",{staticClass:"mt-1"},[e._v(" This activation will expire if the transaction is not on the blockchain before "),t("span",{staticClass:"text-danger"},[e._v(e._s(new Date(1e3*e.selectedStake.expiry).toLocaleString()))])])])],1):e._e()],1),t("b-modal",{attrs:{title:"Cancel Activation?",size:"sm",centered:"","button-size":"sm","ok-title":"Yes","cancel-title":"No"},on:{ok:function(t){e.confirmStakeDialogCloseShowing=!1,e.stakeModalShowing=!1}},model:{value:e.confirmStakeDialogCloseShowing,callback:function(t){e.confirmStakeDialogCloseShowing=t},expression:"confirmStakeDialogCloseShowing"}},[t("h3",{staticClass:"text-center"},[e._v(" Are you sure you want to cancel activating with Titan? ")])]),t("b-modal",{attrs:{title:"Finish Activation?",size:"sm",centered:"","button-size":"sm","ok-title":"Yes","cancel-title":"No"},on:{ok:function(t){e.confirmStakeDialogFinishShowing=!1,e.stakeModalShowing=!1}},model:{value:e.confirmStakeDialogFinishShowing,callback:function(t){e.confirmStakeDialogFinishShowing=t},expression:"confirmStakeDialogFinishShowing"}},[t("h3",{staticClass:"text-center"},[e._v(" Please ensure that you have sent payment for your activation, or saved the payment details for later. ")]),t("br"),t("h4",{staticClass:"text-center"},[e._v(" Close the dialog? ")])]),t("b-modal",{attrs:{title:"Re-invest Expired",size:"lg",centered:"","no-close-on-backdrop":"","no-close-on-esc":"","button-size":"sm","ok-only":"","ok-title":"Cancel"},on:{ok:function(t){e.reinvestModalShowing=!1}},model:{value:e.reinvestModalShowing,callback:function(t){e.reinvestModalShowing=t},expression:"reinvestModalShowing"}},[t("form-wizard",{staticClass:"wizard-vertical mb-3",attrs:{color:e.tierColors.cumulus,title:null,subtitle:null,layout:"vertical","back-button-text":"Previous"},on:{"on-complete":function(t){return e.reinvestDialogFinish()}}},[t("tab-content",{attrs:{title:"Update"}},[t("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Update"}},[e.selectedStake?t("div",{staticClass:"d-flex flex-column"},[t("b-form-checkbox",{staticClass:"ml-auto mr-auto",staticStyle:{float:"left"},attrs:{disabled:e.stakeRegistered||e.registeringStake||e.stakeRegisterFailed},model:{value:e.selectedStake.autoreinvest,callback:function(t){e.$set(e.selectedStake,"autoreinvest",t)},expression:"selectedStake.autoreinvest"}},[e._v(" Auto-reinvest this Flux after expiry ")]),e.titanConfig&&e.titanConfig.reinvestFee>0&&e.titanConfig.maxReinvestFee?t("div",{staticClass:"mt-2"},[t("h6",[t("span",{staticClass:"text-warning"},[e._v("Re-invest Fee:")]),t("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:`Fee of ${e.titanConfig.reinvestFee}% of your rewards, capped at ${e.titanConfig.maxReinvestFee} Flux`,expression:"`Fee of ${titanConfig.reinvestFee}% of your rewards, capped at ${titanConfig.maxReinvestFee} Flux`",modifiers:{hover:!0,bottom:!0}}],staticClass:"text-danger"},[e._v(" "+e._s(e.toFixedLocaleString(e.calculateReinvestFee(),8))+" Flux ")])])]):e._e()],1):e._e()])],1),t("tab-content",{attrs:{title:"Choose Duration","before-change":()=>e.checkReinvestDuration()}},[e.titanConfig?t("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Select Lockup Period"}},e._l(e.titanConfig.lockups,(function(a,s){return t("div",{key:a.time,staticClass:"mb-1"},[t("div",{staticClass:"ml-auto mr-auto"},[t("b-button",{class:s===e.selectedLockupIndex?"selectedLockupButton":"unselectedLockupButton",style:`background-color: ${e.indexedTierColors[s]} !important;`,attrs:{disabled:e.stakeRegistered||e.registeringStake||e.stakeRegisterFailed},on:{click:function(t){return e.selectLockup(s)}}},[e._v(" "+e._s(a.name)+" - ~"+e._s((100*a.apr).toFixed(2))+"% ")])],1)])})),0):e._e()],1),t("tab-content",{attrs:{title:"Signing","before-change":()=>null!==e.signature}},[t("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Sign with Zelcore"}},[t("a",{on:{click:e.initiateSignWS}},[t("img",{staticClass:"zelidLogin mb-2",attrs:{src:a(96358),alt:"Flux ID",height:"100%",width:"100%"}})]),t("b-form-input",{staticClass:"mb-1",attrs:{id:"data",disabled:!0},model:{value:e.dataToSign,callback:function(t){e.dataToSign=t},expression:"dataToSign"}}),t("b-form-input",{attrs:{id:"signature",disabled:e.stakeRegistered||e.registeringStake||e.stakeRegisterFailed},model:{value:e.signature,callback:function(t){e.signature=t},expression:"signature"}})],1)],1),t("tab-content",{attrs:{title:"Re-invest Flux","before-change":()=>!0===e.stakeRegistered}},[t("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Re-invest Stake with Titan"}},[t("div",{staticClass:"mt-3 mb-auto"},[t("b-button",{attrs:{size:"lg",disabled:e.registeringStake||e.stakeRegistered,variant:"success"},on:{click:e.reinvestStake}},[e._v(" Re-invest Flux ")]),e.stakeRegistered?t("h4",{staticClass:"mt-3 text-success"},[e._v(" Registration received ")]):e._e(),e.stakeRegisterFailed?t("h4",{staticClass:"mt-3 text-danger"},[e._v(" Registration failed ")]):e._e()],1)])],1)],1)],1),t("b-modal",{attrs:{title:"Active Flux Details",size:"sm",centered:"","button-size":"sm","cancel-title":"Close","ok-title":"Edit"},on:{ok:e.editActiveStake},model:{value:e.activeStakeInfoModalShowing,callback:function(t){e.activeStakeInfoModalShowing=t},expression:"activeStakeInfoModalShowing"}},[e.selectedStake?t("b-card",[t("div",{staticClass:"d-flex"},[t("b-form-checkbox",{staticClass:"ml-auto mr-auto",staticStyle:{float:"left"},attrs:{disabled:""},model:{value:e.selectedStake.autoreinvest,callback:function(t){e.$set(e.selectedStake,"autoreinvest",t)},expression:"selectedStake.autoreinvest"}},[e._v(" Auto-reinvest this Flux after expiry ")])],1)]):e._e()],1),t("b-modal",{attrs:{title:"Edit Active Flux",size:"lg",centered:"","no-close-on-backdrop":"","no-close-on-esc":"","button-size":"sm","ok-only":"","ok-title":"Cancel"},on:{ok:function(t){e.editStakeModalShowing=!1}},model:{value:e.editStakeModalShowing,callback:function(t){e.editStakeModalShowing=t},expression:"editStakeModalShowing"}},[t("form-wizard",{staticClass:"wizard-vertical mb-3",attrs:{color:e.tierColors.cumulus,title:null,subtitle:null,layout:"vertical","back-button-text":"Previous"},on:{"on-complete":function(t){e.editStakeModalShowing=!1,e.getMyStakes(!0)}}},[t("tab-content",{attrs:{title:"Update"}},[t("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Update"}},[e.selectedStake?t("div",{staticClass:"d-flex"},[t("b-form-checkbox",{staticClass:"ml-auto mr-auto",staticStyle:{float:"left"},attrs:{disabled:e.stakeRegistered||e.registeringStake||e.stakeRegisterFailed},model:{value:e.selectedStake.autoreinvest,callback:function(t){e.$set(e.selectedStake,"autoreinvest",t)},expression:"selectedStake.autoreinvest"}},[e._v(" Auto-reinvest this Flux after expiry ")])],1):e._e()])],1),t("tab-content",{attrs:{title:"Signing","before-change":()=>null!==e.signature}},[t("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Sign with Zelcore"}},[t("a",{on:{click:e.initiateSignWS}},[t("img",{staticClass:"zelidLogin mb-2",attrs:{src:a(96358),alt:"Flux ID",height:"100%",width:"100%"}})]),t("b-form-input",{staticClass:"mb-1",attrs:{id:"data",disabled:!0},model:{value:e.dataToSign,callback:function(t){e.dataToSign=t},expression:"dataToSign"}}),t("b-form-input",{attrs:{id:"signature",disabled:e.stakeRegistered||e.registeringStake||e.stakeRegisterFailed},model:{value:e.signature,callback:function(t){e.signature=t},expression:"signature"}})],1)],1),t("tab-content",{attrs:{title:"Send to Titan","before-change":()=>!0===e.stakeRegistered}},[t("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Send to Titan"}},[t("div",{staticClass:"mt-3 mb-auto"},[t("b-button",{attrs:{size:"lg",disabled:e.registeringStake||e.stakeRegistered,variant:"success"},on:{click:e.sendModifiedStake}},[e._v(" Send ")]),e.stakeRegistered?t("h4",{staticClass:"mt-3 text-success"},[e._v(" Edits received by Titan ")]):e._e(),e.stakeRegisterFailed?t("h4",{staticClass:"mt-3 text-danger"},[e._v(" Editing failed ")]):e._e()],1)])],1)],1)],1),t("b-modal",{attrs:{title:"Activate Titan",size:"lg",centered:"","no-close-on-backdrop":"","no-close-on-esc":"","button-size":"sm","ok-only":"","ok-title":"Cancel"},on:{ok:e.confirmStakeDialogCancel},model:{value:e.stakeModalShowing,callback:function(t){e.stakeModalShowing=t},expression:"stakeModalShowing"}},[t("form-wizard",{staticClass:"wizard-vertical mb-3",attrs:{color:e.tierColors.cumulus,title:null,subtitle:null,layout:"vertical","back-button-text":"Previous"},on:{"on-complete":function(t){return e.confirmStakeDialogFinish()}}},[t("tab-content",{attrs:{title:"Flux Amount"}},[e.reinvestingNewStake?t("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Re-investing Funds"}},[t("div",[t("h5",{staticClass:"mt-3"},[e._v(" A new Titan slot will be created using your available rewards: ")]),t("h2",{staticClass:"mt-3"},[e._v(" "+e._s(e.toFixedLocaleString(e.totalReward,2))+" Flux ")]),e.titanConfig&&e.titanConfig.reinvestFee>0&&e.titanConfig.maxReinvestFee?t("div",{staticClass:"mt-2"},[t("h6",[t("span",{staticClass:"text-warning"},[e._v("Re-invest Fee:")]),t("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:`Fee of ${e.titanConfig.reinvestFee}% of your rewards, capped at ${e.titanConfig.maxReinvestFee} Flux`,expression:"`Fee of ${titanConfig.reinvestFee}% of your rewards, capped at ${titanConfig.maxReinvestFee} Flux`",modifiers:{hover:!0,bottom:!0}}],staticClass:"text-danger"},[e._v(" "+e._s(e.toFixedLocaleString(e.calculateNewStakeReinvestFee(),8))+" Flux ")])])]):e._e()])]):t("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Choose Flux Amount"}},[t("div",[t("h3",{staticClass:"float-left"},[e._v(" "+e._s(e.toFixedLocaleString(e.minStakeAmount))+" ")]),t("h3",{staticClass:"float-right"},[e._v(" "+e._s(e.toFixedLocaleString(e.maxStakeAmount))+" ")])]),t("b-form-input",{attrs:{id:"stakeamount",type:"range",min:e.minStakeAmount,max:e.maxStakeAmount,step:"5",number:"",disabled:e.stakeRegistered||e.registeringStake||e.stakeRegisterFailed},model:{value:e.stakeAmount,callback:function(t){e.stakeAmount=t},expression:"stakeAmount"}}),t("b-form-spinbutton",{staticClass:"stakeAmountSpinner",attrs:{id:"stakeamount-spnner",min:e.minStakeAmount,max:e.maxStakeAmount,size:"lg","formatter-fn":e.toFixedLocaleString,disabled:e.stakeRegistered||e.registeringStake||e.stakeRegisterFailed},model:{value:e.stakeAmount,callback:function(t){e.stakeAmount=t},expression:"stakeAmount"}})],1)],1),t("tab-content",{attrs:{title:"Choose Duration","before-change":()=>e.checkDuration()}},[e.titanConfig?t("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Select Lockup Period"}},[e._l(e.titanConfig.lockups,(function(a,s){return t("div",{key:a.time,staticClass:"mb-1"},[t("div",{staticClass:"ml-auto mr-auto"},[t("b-button",{class:(s===e.selectedLockupIndex?"selectedLockupButton":"unselectedLockupButton")+(e.reinvestingNewStake?"Small":""),style:`background-color: ${e.indexedTierColors[s]} !important;`,attrs:{disabled:e.stakeRegistered||e.registeringStake||e.stakeRegisterFailed},on:{click:function(t){return e.selectLockup(s)}}},[e._v(" "+e._s(a.name)+" - ~"+e._s((100*a.apr).toFixed(2))+"% ")])],1)])})),t("div",{staticClass:"d-flex"},[t("b-form-checkbox",{staticClass:"ml-auto mr-auto",staticStyle:{float:"left"},attrs:{disabled:e.stakeRegistered||e.registeringStake||e.stakeRegisterFailed},model:{value:e.autoReinvestStake,callback:function(t){e.autoReinvestStake=t},expression:"autoReinvestStake"}},[e._v(" Auto-reinvest this Flux after expiry ")])],1)],2):e._e()],1),t("tab-content",{attrs:{title:"Signing","before-change":()=>null!==e.signature}},[t("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Sign with Zelcore"}},[t("a",{on:{click:e.initiateSignWS}},[t("img",{staticClass:"zelidLogin mb-2",attrs:{src:a(96358),alt:"Flux ID",height:"100%",width:"100%"}})]),t("b-form-input",{staticClass:"mb-1",attrs:{id:"data",disabled:!0},model:{value:e.dataToSign,callback:function(t){e.dataToSign=t},expression:"dataToSign"}}),t("b-form-input",{attrs:{id:"signature",disabled:e.stakeRegistered||e.registeringStake||e.stakeRegisterFailed},model:{value:e.signature,callback:function(t){e.signature=t},expression:"signature"}})],1)],1),t("tab-content",{attrs:{title:"Register with Titan","before-change":()=>!0===e.stakeRegistered}},[t("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Register with Titan"}},[t("div",{staticClass:"mt-3 mb-auto"},[t("h5",[t("span",{staticClass:"text-danger"},[e._v("IMPORTANT:")]),e._v(" Your funds will be locked until ")]),t("h5",[t("span",{staticClass:"text-warning"},[e._v(e._s(new Date(Date.now()+1e3*e.getLockupDuration()).toLocaleString()))])]),t("h5",{staticClass:"mb-2"},[e._v(" You will not be able to withdraw your Flux until the time has passed. ")]),t("b-button",{attrs:{size:"lg",disabled:e.registeringStake||e.stakeRegistered,variant:"success"},on:{click:e.registerStake}},[e._v(" Register with Titan ")]),e.stakeRegistered?t("h4",{staticClass:"mt-3 text-success"},[e._v(" Registration received ")]):e._e(),e.stakeRegisterFailed?t("h4",{staticClass:"mt-3 text-danger"},[e._v(" Registration failed ")]):e._e()],1)])],1),e.reinvestingNewStake?e._e():t("tab-content",{attrs:{title:"Send Funds"}},[e.titanConfig&&e.signatureHash?t("div",[t("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Send Funds"}},[t("b-card-text",[e._v(" To finish activation, make a transaction of "),t("span",{staticClass:"text-success"},[e._v(e._s(e.toFixedLocaleString(e.stakeAmount)))]),e._v(" FLUX to address"),t("br"),t("h5",{staticClass:"text-wrap ml-auto mr-auto text-warning",staticStyle:{width:"25rem"}},[e._v(" "+e._s(e.titanConfig.fundingAddress)+" ")]),e._v(" with the following message"),t("br")]),t("h5",{staticClass:"text-wrap ml-auto mr-auto text-warning",staticStyle:{width:"25rem"}},[e._v(" "+e._s(e.signatureHash)+" ")]),t("div",{staticClass:"d-flex flex-row mt-2"},[t("h3",{staticClass:"col text-center mt-2"},[e._v(" Pay with"),t("br"),e._v("Zelcore ")]),t("a",{staticClass:"col",on:{click:e.initZelcorePay}},[t("img",{staticClass:"zelidLogin",attrs:{src:a(96358),alt:"Flux ID",height:"100%",width:"100%"}})])])],1)],1):e._e()])],1)],1)],1)},ke=[],_e=a(19279),Fe=a(49379),ze=a(19692),Re=a(44390),Te=a(66126),Pe=a(1759),De=a(16521),Ae=a(87066),Ie=a(51136);const $e=a(80129),Le=a(58971),Ze=a(63005),Me={components:{BAvatar:m.SH,BButton:z.T,BCard:R._,BCardBody:_e.O,BCardText:P.j,BCardTitle:Fe._,BCol:D.l,BFormCheckbox:ze.l,BFormInput:o.e,BFormSelect:M.K,BFormSelectOption:B.c,BFormSpinbutton:Re.G,BMedia:d.P,BMediaBody:u.D,BModal:I.N,BOverlay:Te.X,BRow:$.T,BSpinner:Pe.X,BTabs:L.M,BTab:Z.L,BTable:De.h,FormWizard:q.FormWizard,TabContent:q.TabContent,ToastificationContent:w.Z,VuePerfectScrollbar:S()},directives:{Ripple:b.Z,"b-modal":N.T,"b-toggle":O.M,"b-tooltip":j.o},props:{zelid:{type:String,required:!1,default:""}},setup(e){const t=(0,g.getCurrentInstance)().proxy,a=(0,x.useToast)(),s=(e,t,s="InfoIcon")=>{a({component:w.Z,props:{title:t,icon:s,variant:e},position:"bottom-right"})},i=(0,g.ref)("");i.value=e.tier;const o=(0,g.ref)("");o.value=e.zelid;const n="https://api.titan.runonflux.io",r=(0,g.ref)(0),l=(0,g.ref)(0),c=(0,g.ref)(50),d=(0,g.ref)(50),u=(0,g.ref)(1e3),p=(0,g.ref)(0),m=(0,g.ref)(null),v=(0,g.ref)(null),f=(0,g.ref)(null),h=(0,g.ref)(null),b=(0,g.ref)(null),y=(0,g.ref)(!1),S=(0,g.ref)(!1),C=(0,g.ref)(!1),k=(0,g.computed)((()=>t.$store.state.flux.config)),_=(0,g.ref)(null),F=(0,g.ref)(!0),z=(0,g.ref)(!1),R=(0,g.ref)(!0),T=(0,g.ref)("Too much Flux has registered with Titan, please wait for more Nodes to be made available"),P=(0,g.ref)(0),D=(0,g.ref)(null),A=(0,g.ref)(null),I=(0,g.ref)(!1),$=(0,g.ref)(!1),L=(0,g.ref)(!1),Z=(0,g.ref)([G.Z.cumulus,G.Z.nimbus,G.Z.stratus]),M=()=>{const{protocol:e,hostname:a}=window.location;let s="";s+=e,s+="//";const i=/[A-Za-z]/g;if(a.split("-")[4]){const e=a.split("-"),t=e[4].split("."),i=+t[0]+1;t[0]=i.toString(),t[2]="api",e[4]="",s+=e.join("-"),s+=t.join(".")}else if(a.match(i)){const e=a.split(".");e[0]="api",s+=e.join(".")}else"string"===typeof a&&t.$store.commit("flux/setUserIp",a),s+=a,s+=":",s+=k.value.apiPort;const o=Le.get("backendURL")||s;return o},B=()=>{const e=M(),t=`${e}/id/providesign`;return encodeURI(t)},E=e=>{console.log(e)},N=e=>{const t=$e.parse(e.data);"success"===t.status&&t.data&&(v.value=t.data.signature),console.log(t),console.log(e)},O=e=>{console.log(e)},j=e=>{console.log(e)},q=()=>{try{const e=`zel:?action=sign&message=${m.value}&icon=https%3A%2F%2Fraw.githubusercontent.com%2Frunonflux%2Fflux%2Fmaster%2FzelID.svg&callback=${B()}`;if(window.zelcore)window.zelcore.protocol(e);else{const t=document.createElement("a");t.href=e,t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}}catch(e){s("danger",e.message)}},U=()=>{if(y.value||C.value||S.value)return;q();const{protocol:e,hostname:a}=window.location;let s="";s+=e,s+="//";const i=/[A-Za-z]/g;if(a.split("-")[4]){const e=a.split("-"),t=e[4].split("."),i=+t[0]+1;t[0]=i.toString(),t[2]="api",e[4]="",s+=e.join("-"),s+=t.join(".")}else if(a.match(i)){const e=a.split(".");e[0]="api",s+=e.join(".")}else"string"===typeof a&&t.$store.commit("flux/setUserIp",a),s+=a,s+=":",s+=k.value.apiPort;let n=Le.get("backendURL")||s;n=n.replace("https://","wss://"),n=n.replace("http://","ws://");const r=o.value+h.value;console.log(`signatureMessage: ${r}`);const l=`${n}/ws/sign/${r}`;console.log(l);const c=new WebSocket(l);b.value=c,c.onopen=e=>{j(e)},c.onclose=e=>{O(e)},c.onmessage=e=>{N(e)},c.onerror=e=>{E(e)}},V=(0,g.ref)(!1),W=(0,g.ref)(!1),Y=(0,g.ref)(!1),H=(0,g.ref)(!1),J=(0,g.ref)(!1),K=(0,g.ref)(!1),X=(0,g.ref)(!1),Q=(0,g.ref)(!1),ee=(0,g.ref)(!1),te=(0,g.ref)(!1),ae={maxScrollbarLength:150},se=(0,g.ref)([]),ie=(0,g.ref)(0),oe=(0,g.ref)([]),ne=(0,g.ref)([]),re=(0,g.ref)([]),le=(0,g.ref)([{key:"timestamp",label:"Date"},{key:"total",label:"Amount"},{key:"address",label:"Address"},{key:"txid",label:"Transaction"}]),ce=(0,g.ref)(),de=(0,g.ref)(),ue=(0,g.ref)(0),pe=(0,g.ref)(0),me=async()=>{const e=await Ae.Z.get(`${n}/registermessage`);m.value=e.data,h.value=e.data.substring(e.data.length-13)},ge=async()=>{const e=await Ae.Z.get(`${n}/redeemmessage`);m.value=e.data,h.value=e.data.substring(e.data.length-13)},ve=async()=>{const e=await Ae.Z.get(`${n}/modifymessage`);m.value=e.data,h.value=e.data.substring(e.data.length-13)},fe=async()=>!!D.value&&(await ge(),!0),he=async()=>{const e=await Ae.Z.get(`${n}/stats`);de.value=e.data,R.value=ie.value<=de.value.total+ce.value.minStake},be=(e,t,a,s)=>{const i=t*(100-e.fee)/100,o=720,n=o/s,r=30*n*i,l=r/a,c=12*l,d=(1+c/12)**12-1;return d},xe=e=>{if(0===se.value.length)return 0;const t=be(e,11.25,4e4,ue.value),a=be(e,4.6875,12500,pe.value),s=se.value.reduce(((e,t)=>e+(4e4===t.collateral?1:0)),0),i=se.value.reduce(((e,t)=>e+(12500===t.collateral?1:0)),0);return(t*s+a*i)/(s+i)},we=async()=>{const e=await Ae.Z.get(`${n}/nodes`),t=[];ie.value=0,e.data.forEach((e=>{const a=e;t.push(a),ie.value+=a.collateral})),se.value=t.sort(((e,t)=>e.name.toLowerCase()>t.name.toLowerCase()?1:-1)),ce.value.lockups.forEach((e=>{e.apr=xe(e)}))},ye=async(e=!1)=>{try{if(o.value.length>0){const t=await Ae.Z.get(`${n}/stakes/${o.value}${e?`?timestamp=${Date.now()}`:""}`);if(t.data&&"error"===t.data.status)return;const a=[],s=[],i=Date.now()/1e3;r.value=0,l.value=0,console.log(t.data),t.data.forEach((e=>{e.expiry<i?e.state>=4&&(s.push(e),4===e.state&&(l.value+=e.reward-e.collateral)):(a.push(e),l.value+=e.reward),r.value+=e.reward})),oe.value=a,ne.value=s}}catch(t){s("danger",t.message||t),console.log(t)}},Se=async(e=!1)=>{if(o.value.length>0){const t=await Ae.Z.get(`${n}/payments/${o.value}${e?`?timestamp=${Date.now()}`:""}`);re.value=t.data}},Ce=async()=>{const e=await Ie.Z.fluxnodeCount();if("error"===e.data.status)return s({component:w.Z,props:{title:e.data.data.message||e.data.data,icon:"InfoIcon",variant:"danger"}}),0;const t=e.data.data;return t},ke=()=>!(!ce.value||!ce.value.maintenanceMode),_e=async()=>{try{const e=await Ce();ue.value=e["stratus-enabled"],pe.value=e["nimbus-enabled"];const t=await Ae.Z.get(`${n}/config`);ce.value=t.data,ce.value.lockups.sort(((e,t)=>e.blocks-t.blocks)),ce.value.lockups.forEach((e=>{e.apr=xe(e)})),t.data.minStake>0&&(d.value=t.data.minStake),t.data.maxStake>0&&(u.value=t.data.maxStake),await we(),await he(),ye(),Se(),ie.value-de.value.total<u.value&&(u.value=ie.value-de.value.total)}catch(e){s("danger",e.message||e)}};_e(),setInterval((()=>{_e()}),12e4);const Fe=(e=!1)=>{ce.value&&ce.value.maintenanceMode||(z.value=e,V.value=!0,y.value=!1,S.value=!1,C.value=!1,c.value=d.value,p.value=0,v.value=null,f.value=null)},ze=()=>{z.value?V.value=!1:Y.value=!0,ye(!0)},Re=e=>{e.preventDefault(),W.value=!0},Te=e=>{ce.value&&ce.value.maintenanceMode||(_.value=JSON.parse(JSON.stringify(e)),ee.value=!0)},Pe=async()=>{ce.value&&ce.value.maintenanceMode||(ee.value=!1,await ve(),y.value=!1,S.value=!1,C.value=!1,v.value=null,f.value=null,te.value=!0)},De=async()=>{C.value=!0;const e=localStorage.getItem("zelidauth"),t={stake:_.value.uuid,timestamp:h.value,signature:v.value,data:m.value,autoreinvest:_.value.autoreinvest,reinvest:!1};s("info","Sending modifications to Titan...");const a={headers:{zelidauth:e,backend:M()}},i=await Ae.Z.post(`${n}/modifystake`,t,a).catch((e=>{console.log(e),S.value=!0,s("danger",e.message||e)}));console.log(i.data),i&&i.data&&"success"===i.data.status?(y.value=!0,s("success",i.data.message||i.data)):(S.value=!0,s("danger",(i.data.data?i.data.data.message:i.data.message)||i.data))},Me=e=>{ce.value&&ce.value.maintenanceMode||(y.value=!1,S.value=!1,C.value=!1,p.value=0,v.value=null,f.value=null,_.value=JSON.parse(JSON.stringify(e)),ve(),Q.value=!0)},Be=()=>{ye(!0),Q.value=!1},Ee=()=>{const e=_.value.reward-_.value.collateral;let t=e*(ce.value.reinvestFee/100);return t>ce.value.maxReinvestFee&&(t=ce.value.maxReinvestFee),t},Ne=()=>{const e=l.value;let t=e*(ce.value.reinvestFee/100);return t>ce.value.maxReinvestFee&&(t=ce.value.maxReinvestFee),t},Oe=()=>{if(!ce.value)return 0;if(!ce.value.maxRedeemFee)return ce.value.redeemFee;const e=l.value;let t=e*(ce.value.redeemFee/100);return t>ce.value.maxRedeemFee&&(t=ce.value.maxRedeemFee),t},je=e=>{p.value=e},qe=()=>{ce.value&&ce.value.maintenanceMode||(J.value=!0)},Ue=()=>{ce.value&&ce.value.maintenanceMode||(K.value=!0)},Ve=()=>{if(ce.value&&ce.value.maintenanceMode)return;const e=[];oe.value.forEach((t=>{t.address&&!e.some((e=>e.text===t.address))&&e.push({value:t.uuid,text:t.address})})),ne.value.forEach((t=>{t.address&&!e.some((e=>e.text===t.address))&&e.push({value:t.uuid,text:t.address})})),P.value=ce.value.redeemFee,D.value=null,A.value=e,m.value=null,v.value=null,L.value=!1,I.value=!1,$.value=!1,X.value=!0},We=()=>{ce.value&&ce.value.maintenanceMode||(X.value=!1,ye(!0),Se(!0))},Ye=e=>{ce.value&&ce.value.maintenanceMode||(_.value=JSON.parse(JSON.stringify(e)),H.value=!0)},He=async()=>{C.value=!0;const e=localStorage.getItem("zelidauth"),t={stake:_.value.uuid,timestamp:h.value,signature:v.value,data:m.value,autoreinvest:_.value.autoreinvest,reinvest:!0,lockup:ce.value.lockups[p.value]};s("info","Re-investing with Titan...");const a={headers:{zelidauth:e,backend:M()}},i=await Ae.Z.post(`${n}/modifystake`,t,a).catch((e=>{console.log(e),S.value=!0,s("danger",e.message||e)}));console.log(i.data),i&&i.data&&"success"===i.data.status?(y.value=!0,s("success",i.data.message||i.data)):(S.value=!0,s("danger",(i.data.data?i.data.data.message:i.data.message)||i.data))},Je=async()=>{C.value=!0;const e=localStorage.getItem("zelidauth"),t={amount:z.value?0:c.value,lockup:ce.value.lockups[p.value],timestamp:h.value,signature:v.value,data:m.value,autoreinvest:F.value,stakefromrewards:z.value};s("info","Registering with Titan...");const a={headers:{zelidauth:e,backend:M()}},i=await Ae.Z.post(`${n}/register`,t,a).catch((e=>{console.log(e),S.value=!0,s("danger",e.message||e)}));console.log(i.data),i&&i.data&&"success"===i.data.status?(y.value=!0,f.value=i.data.hash,s("success",i.data.message||i.data)):(S.value=!0,s("danger",(i.data.data?i.data.data.message:i.data.message)||i.data))},Ge=(e,t=0)=>{const a=Math.floor(e*10**t)/10**t;return t<4?a.toLocaleString():`${a}`},Ke=async()=>{L.value=!0;const e=localStorage.getItem("zelidauth"),t={amount:r.value,stake:D.value,timestamp:h.value,signature:v.value,data:m.value};console.log(t),s("info","Sending redeem request to Titan...");const a={headers:{zelidauth:e,backend:M()}},i=await Ae.Z.post(`${n}/redeem`,t,a).catch((e=>{console.log(e),$.value=!0,s("danger",e.message||e)}));console.log(i.data),i&&i.data&&"success"===i.data.status?(I.value=!0,s("success",i.data.message||i.data),_e()):($.value=!0,s("danger",(i.data.data?i.data.data.message:i.data.message)||i.data))},Xe=e=>{const t=ce.value.lockups.find((t=>t.fee===e.fee));return t?e.collateral*t.apr/12:0},Qe=()=>{let e=oe.value?oe.value.reduce(((e,t)=>e+t.paid-(t.feePaid??0)),0):0;return e+=ne.value?ne.value.reduce(((e,t)=>e+t.paid-(t.feePaid??0)-(5===t.state?t.collateral:0)),0):0,Ge(e,2)},et=e=>{window.open(`http://${e.address}`,"_blank")},tt=async()=>(await me(),p.value>=0&&p.value<ce.value.lockups.length),at=()=>ce.value?ce.value.lockups[p.value].time:0,st=async()=>p.value>=0&&p.value<ce.value.lockups.length,it=()=>{console.log(P.value);const e=parseFloat(P.value);return console.log(e),console.log(r.value),e>ce.value.redeemFee&&e<=parseFloat(Ge(r.value,2))},ot=e=>`Send a payment of ${e.collateral} Flux to<br>${ce.value.nodeAddress}<br>with a message<br>${e.signatureHash}`,nt=()=>{try{const e=`zel:?action=pay&coin=zelcash&address=${ce.value.fundingAddress}&amount=${c.value}&message=${f.value}&icon=https%3A%2F%2Fraw.githubusercontent.com%2Frunonflux%2Fflux%2Fmaster%2Fflux_banner.png`;if(window.zelcore)window.zelcore.protocol(e);else{const t=document.createElement("a");t.href=e,t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}}catch(e){s("warning","Failed to sign message, please try again.")}},rt=()=>{try{const e=`zel:?action=pay&coin=zelcash&address=${ce.value.fundingAddress}&amount=${_.value.collateral}&message=${_.value.signatureHash}&icon=https%3A%2F%2Fraw.githubusercontent.com%2Frunonflux%2Fflux%2Fmaster%2Fflux_banner.png`;if(window.zelcore)window.zelcore.protocol(e);else{const t=document.createElement("a");t.href=e,t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}}catch(e){s("warning","Failed to sign message, please try again.")}};return{perfectScrollbarSettings:ae,timeoptions:Ze,nodes:se,totalCollateral:ie,myStakes:oe,myExpiredStakes:ne,myPayments:re,paymentFields:le,totalReward:r,titanConfig:ce,titanStats:de,tooMuchStaked:R,defaultStakeDisabledMessage:T,userZelid:o,signature:v,signatureHash:f,dataToSign:m,callbackValue:B,initiateSignWS:U,timestamp:h,getMyStakes:ye,getMyPayments:Se,calcAPR:xe,calcMonthlyReward:Xe,calculatePaidRewards:Qe,toFixedLocaleString:Ge,formatPaymentTooltip:ot,showNodeInfoDialog:qe,nodeModalShowing:J,visitNode:et,showAPRInfoDialog:Ue,aprModalShowing:K,stakeModalShowing:V,showStakeDialog:Fe,reinvestingNewStake:z,stakeAmount:c,minStakeAmount:d,maxStakeAmount:u,stakeRegistered:y,stakeRegisterFailed:S,selectedLockupIndex:p,selectLockup:je,autoReinvestStake:F,registeringStake:C,registerStake:Je,checkDuration:tt,getLockupDuration:at,getRegistrationMessage:me,confirmStakeDialogCancel:Re,confirmStakeDialogCloseShowing:W,confirmStakeDialogFinish:ze,confirmStakeDialogFinishShowing:Y,showActiveStakeInfoDialog:Te,activeStakeInfoModalShowing:ee,editActiveStake:Pe,editStakeModalShowing:te,sendModifiedStake:De,showReinvestDialog:Me,getModifyMessage:ve,reinvestModalShowing:Q,reinvestStake:He,checkReinvestDuration:st,reinvestDialogFinish:Be,calculateReinvestFee:Ee,calculateNewStakeReinvestFee:Ne,showPaymentDetailsDialog:Ye,paymentDetailsDialogShowing:H,selectedStake:_,showOverlay:ke,showRedeemDialog:Ve,redeemModalShowing:X,redeemAmount:P,redeemAddress:D,redeemAddresses:A,redeemAmountState:it,getRedeemMessage:ge,checkRedeemAddress:fe,sendingRequest:L,requestSent:I,requestFailed:$,requestRedeem:Ke,confirmRedeemDialogFinish:We,calculateRedeemFee:Oe,tierColors:G.Z,indexedTierColors:Z,initZelcorePay:nt,initZelcorePayB:rt}}},Be=Me;var Ee=(0,we.Z)(Be,Ce,ke,!1,null,"953eec94",null);const Ne=Ee.exports;var Oe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sidebar-left"},[t("div",{staticClass:"sidebar"},[t("div",{staticClass:"sidebar-content marketplace-sidebar"},[t("div",{staticClass:"marketplace-app-menu"},[t("div",{staticClass:"add-task"}),t("vue-perfect-scrollbar",{staticClass:"sidebar-menu-list scroll-area",attrs:{settings:e.perfectScrollbarSettings}},[t("b-list-group",{staticClass:"list-group-filters"},e._l(e.taskFilters,(function(a){return t("b-list-group-item",{key:a.title+e.$route.path,attrs:{to:a.route,active:e.isDynamicRouteActive(a.route)},on:{click:function(t){e.$emit("scroll-app-view"),e.$emit("close-app-view"),e.$emit("close-left-sidebar")}}},[t("v-icon",{staticClass:"mr-75 icon-spacing",attrs:{name:a.icon,scale:"1.55"}}),t("span",{staticClass:"line-height-2"},[e._v(e._s(a.title))])],1)})),1),t("hr"),t("b-list-group",{staticClass:"list-group-filters"},e._l(e.nodeActions,(function(a){return t("b-list-group-item",{key:a.title+e.$route.path,attrs:{to:a.route,active:e.isDynamicRouteActive(a.route),target:"_blank",rel:"noopener noreferrer"},on:{click:function(t){e.$emit("scroll-app-view"),e.$emit("close-app-view"),e.$emit("close-left-sidebar"),e.$emit(a.event)}}},[t("v-icon",{staticClass:"mr-75 icon-spacing",attrs:{name:a.icon,scale:"1.55"}}),t("span",{staticClass:"line-height-2"},[e._v(e._s(a.title))])],1)})),1)],1)],1)])])])},je=[],qe=a(70322),Ue=a(88367),Ve=a(82162);const We={directives:{Ripple:b.Z},components:{BListGroup:qe.N,BListGroupItem:Ue.f,VuePerfectScrollbar:S()},props:{zelid:{type:String,required:!1,default:""}},setup(e){const t={maxScrollbarLength:60},a=(0,g.ref)("");a.value=e.zelid;const s=[{title:"All Categories",icon:"inbox",route:{name:"apps-marketplace"}}];Ve.categories.forEach((e=>{s.push({title:e.name,icon:e.icon,route:{name:"apps-marketplace-filter",params:{filter:e.name.toLowerCase()}}})}));const i=[{title:"Shared Nodes",icon:"inbox",event:"open-shared-nodes",route:{name:"apps-marketplace-sharednodes"}}];return{perfectScrollbarSettings:t,taskFilters:s,nodeActions:i,isDynamicRouteActive:f._d}}},Ye=We;var He=(0,we.Z)(Ye,Oe,je,!1,null,null,null);const Je=He.exports,Ge=a(80129),Ke=a(97218),Xe=a(63005),Qe={components:{BFormInput:o.e,BInputGroup:n.w,BInputGroupPrepend:r.P,BDropdown:l.R,BDropdownItem:c.E,BMedia:d.P,BMediaBody:u.D,BBadge:p.k,BAvatar:m.SH,AppView:Se,SharedNodesView:Ne,CategorySidebar:Je,VuePerfectScrollbar:S(),ToastificationContent:w.Z},directives:{Ripple:b.Z},setup(){const e=(0,g.ref)(null),t=(0,g.ref)(null),a=(0,g.ref)(""),s=(0,g.ref)(null),i=async()=>{if(await(0,g.nextTick)(),await new Promise((e=>{setTimeout(e,100)})),e.value){const t=e.value.ps;if(t)t.update(),e.value.$el.scrollTop=0,setTimeout((()=>{}),300);else{const t=e.value.$el;t?(t.scrollTo({top:0,behavior:"smooth"}),setTimeout((()=>{console.log("Final scrollTop (native):",t.scrollTop)}),300)):console.warn("Cannot find scrollbar container")}}else console.warn("appListRef is NULL. Skipping scroll.")},{route:o,router:n}=(0,f.tv)(),r=(0,g.ref)(!1),l=(0,g.ref)(!1),c=(0,x.useToast)();(0,g.onBeforeMount)((()=>{const e=localStorage.getItem("zelidauth"),a=Ge.parse(e);t.value=a.zelid,l.value="/apps/shared-nodes"===o.value.path}));const d=e=>e.compose.reduce(((e,t)=>e+t.cpu),0),u=e=>e.compose.reduce(((e,t)=>e+t.ram),0),p=e=>e.compose.reduce(((e,t)=>e+t.hdd),0),m=e=>264e3===e.expire?"1 year":66e3===e.expire?"3 months":132e3===e.expire?"6 months":"1 month",{showDetailSidebar:b}=(0,h.w)(),y=(0,g.computed)((()=>o.value.query.sort)),S=(0,g.computed)((()=>o.value.query.q)),_=(0,g.computed)((()=>o.value.params)),F=(0,g.ref)([]),z=["latest","title-asc","title-desc","end-date","cpu","ram","hdd"],R=(0,g.ref)(y.value);(0,g.watch)(y,(e=>{z.includes(e),R.value=e}));const T=()=>{const e=JSON.parse(JSON.stringify(o.value.query));delete e.sort,n.replace({name:o.name,query:e}).catch((()=>{}))},P=(0,g.ref)({}),D=(e,t,a="InfoIcon")=>{c({component:w.Z,props:{title:t,icon:a,variant:e}})},A=e=>{const t=Ve.categories.filter((t=>t.name===e.name));return 0===t.length?Ve.defaultCategory.variant:t[0].variant},I=e=>{const t=Ve.categories.filter((t=>t.name===e.name));return 0===t.length?Ve.defaultCategory.variant:t[0].variant},$=e=>{const t=Ve.categories.filter((t=>t.name===e.name));return 0===t.length?Ve.defaultCategory.icon:t[0].icon},L=(0,g.ref)(S.value);(0,g.watch)(S,(e=>{L.value=e}));const Z=(e,t=300)=>{let a;return(...s)=>{clearTimeout(a),a=setTimeout((()=>e(...s)),t)}},M=Z((e=>{const t={...o.value.query};e?t.q=e:delete t.q,n.replace({name:o.name,query:t}).catch((()=>{}))}),300),B=e=>{const t=Ve.categories.find((t=>t.name===e));return t||Ve.defaultCategory},E=async()=>{const e=await k.Z.getMarketPlaceURL();if("success"===e.data.status&&e.data.data){const t=await Ke.get(e.data.data);if(console.log(t),"success"===t.data.status){if(F.value=t.data.data.filter((e=>e.visible)),F.value.forEach((e=>{e.extraDetail=B(e.category)})),n.currentRoute.params.filter&&(F.value=F.value.filter((e=>e.extraDetail.name.toLowerCase()===n.currentRoute.params.filter.toLowerCase()))),L.value){const e=L.value.toLowerCase();F.value=F.value.filter((t=>!!t.name.toLowerCase().includes(e)||!!t.description.toLowerCase().includes(e)))}R.value&&F.value.sort(((e,t)=>"title-asc"===R.value?e.name.localeCompare(t.name):"title-desc"===R.value?t.name.localeCompare(e.name):"cpu"===R.value?d(e)-d(t):"ram"===R.value?u(e)-u(t):"hdd"===R.value?p(e)-p(t):"price"===R.value?e.priceUSD-t.priceUSD:0))}else D("danger",t.data.data.message||t.data.data)}else D("danger",e.data.data.message||e.data.data)};(0,g.watch)([L,R],(()=>E())),(0,g.watch)(_,(()=>{E()}));const N=async()=>{const e=await C.Z.getFluxNodeStatus();"success"===e.data.status&&(a.value=e.data.data.tier),E()};N();const O=async e=>{P.value=e,r.value=!0,await(0,g.nextTick)(),window.scrollTo({top:0})},j={maxScrollbarLength:150};return{zelid:t,tier:a,appListRef:e,timeoptions:Xe,app:P,handleAppClick:O,updateRouteQuery:M,searchQuery:L,filteredApps:F,sortOptions:z,resetSortAndNavigate:T,perfectScrollbarSettings:j,resolveTagVariant:A,resolveAvatarVariant:I,resolveAvatarIcon:$,avatarText:v.k3,isAppViewActive:r,isSharedNodesViewActive:l,showDetailSidebar:b,resolveHdd:p,resolveCpu:d,resolveRam:u,adjustPeriod:m,appViewRef:s,scrollAppViewToTop:i}}},et=Qe;var tt=(0,we.Z)(et,s,i,!1,null,null,null);const at=tt.exports},6044:(e,t,a)=>{"use strict";a.d(t,{w:()=>o});var s=a(20144),i=a(73507);const o=()=>{const e=(0,s.ref)(!1),t=(0,s.computed)((()=>i.Z.getters["app/currentBreakPoint"]));return(0,s.watch)(t,((t,a)=>{"md"===a&&"lg"===t&&(e.value=!1)})),{mqShallShowLeftSidebar:e}}},1923:(e,t,a)=>{"use strict";a.d(t,{k3:()=>s});a(70560),a(23646);const s=e=>{if(!e)return"";const t=e.split(" ");return t.map((e=>e.charAt(0).toUpperCase())).join("")}},72918:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});const s={cumulus:"#2B61D1",nimbus:"#ff9f43",stratus:"#ea5455"},i=s},63005:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});const s={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"},i={year:"numeric",month:"short",day:"numeric"},o={shortDate:s,date:i}},65864:(e,t,a)=>{"use strict";a.d(t,{M:()=>i,Z:()=>o});var s=a(87066);const i="https://fiatpaymentsbridge.runonflux.io";async function o(){try{const e=await s.Z.get(`${i}/api/v1/gateway/status`);return"success"===e.data.status?e.data.data:null}catch(e){return null}}},43672:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var s=a(80914);const i={listRunningApps(){const e={headers:{"x-apicache-bypass":!0}};return(0,s.Z)().get("/apps/listrunningapps",e)},listAllApps(){const e={headers:{"x-apicache-bypass":!0}};return(0,s.Z)().get("/apps/listallapps",e)},installedApps(){const e={headers:{"x-apicache-bypass":!0}};return(0,s.Z)().get("/apps/installedapps",e)},availableApps(){return(0,s.Z)().get("/apps/availableapps")},getEnterpriseNodes(){return(0,s.Z)().get("/apps/enterprisenodes")},stopApp(e,t){const a={headers:{zelidauth:e,"x-apicache-bypass":!0}};return(0,s.Z)().get(`/apps/appstop/${t}`,a)},startApp(e,t){const a={headers:{zelidauth:e}};return(0,s.Z)().get(`/apps/appstart/${t}`,a)},pauseApp(e,t){const a={headers:{zelidauth:e}};return(0,s.Z)().get(`/apps/apppause/${t}`,a)},unpauseApp(e,t){const a={headers:{zelidauth:e}};return(0,s.Z)().get(`/apps/appunpause/${t}`,a)},restartApp(e,t){const a={headers:{zelidauth:e}};return(0,s.Z)().get(`/apps/apprestart/${t}`,a)},removeApp(e,t){const a={headers:{zelidauth:e},onDownloadProgress(e){console.log(e)}};return(0,s.Z)().get(`/apps/appremove/${t}`,a)},registerApp(e,t){const a={headers:{zelidauth:e}};return(0,s.Z)().post("/apps/appregister",JSON.stringify(t),a)},updateApp(e,t){const a={headers:{zelidauth:e}};return(0,s.Z)().post("/apps/appupdate",JSON.stringify(t),a)},checkCommunication(){return(0,s.Z)().get("/flux/checkcommunication")},checkDockerExistance(e,t){const a={headers:{zelidauth:e}};return(0,s.Z)().post("/apps/checkdockerexistance",JSON.stringify(t),a)},appsRegInformation(){return(0,s.Z)().get("/apps/registrationinformation")},appsDeploymentInformation(){return(0,s.Z)().get("/apps/deploymentinformation")},getAppLocation(e){return(0,s.Z)().get(`/apps/location/${e}`)},globalAppSpecifications(){return(0,s.Z)().get("/apps/globalappsspecifications")},myGlobalAppSpecifications(e){return(0,s.Z)().get(`/apps/globalappsspecifications?owner=${e}`)},permanentMessagesOwner(e){return(0,s.Z)().get(`/apps/permanentmessages?owner=${e}`)},getInstalledAppSpecifics(e){return(0,s.Z)().get(`/apps/installedapps/${e}`)},getAppSpecifics(e){return(0,s.Z)().get(`/apps/appspecifications/${e}`)},getAppOwner(e){return(0,s.Z)().get(`/apps/appowner/${e}`)},getAppLogsTail(e,t){const a={headers:{zelidauth:e}};return(0,s.Z)().get(`/apps/applog/${t}/100`,a)},getAppTop(e,t){const a={headers:{zelidauth:e}};return(0,s.Z)().get(`/apps/apptop/${t}`,a)},getAppInspect(e,t){const a={headers:{zelidauth:e}};return(0,s.Z)().get(`/apps/appinspect/${t}`,a)},getAppStats(e,t){const a={headers:{zelidauth:e}};return(0,s.Z)().get(`/apps/appstats/${t}`,a)},getAppChanges(e,t){const a={headers:{zelidauth:e}};return(0,s.Z)().get(`/apps/appchanges/${t}`,a)},getAppExec(e,t,a,i){const o={headers:{zelidauth:e}},n={appname:t,cmd:a,env:JSON.parse(i)};return(0,s.Z)().post("/apps/appexec",JSON.stringify(n),o)},reindexGlobalApps(e){return(0,s.Z)().get("/apps/reindexglobalappsinformation",{headers:{zelidauth:e}})},reindexLocations(e){return(0,s.Z)().get("/apps/reindexglobalappslocation",{headers:{zelidauth:e}})},rescanGlobalApps(e,t,a){return(0,s.Z)().get(`/apps/rescanglobalappsinformation/${t}/${a}`,{headers:{zelidauth:e}})},getFolder(e,t){return(0,s.Z)().get(`/apps/fluxshare/getfolder/${t}`,{headers:{zelidauth:e}})},createFolder(e,t){return(0,s.Z)().get(`/apps/fluxshare/createfolder/${t}`,{headers:{zelidauth:e}})},getFile(e,t){return(0,s.Z)().get(`/apps/fluxshare/getfile/${t}`,{headers:{zelidauth:e}})},removeFile(e,t){return(0,s.Z)().get(`/apps/fluxshare/removefile/${t}`,{headers:{zelidauth:e}})},shareFile(e,t){return(0,s.Z)().get(`/apps/fluxshare/sharefile/${t}`,{headers:{zelidauth:e}})},unshareFile(e,t){return(0,s.Z)().get(`/apps/fluxshare/unsharefile/${t}`,{headers:{zelidauth:e}})},removeFolder(e,t){return(0,s.Z)().get(`/apps/fluxshare/removefolder/${t}`,{headers:{zelidauth:e}})},fileExists(e,t){return(0,s.Z)().get(`/apps/fluxshare/fileexists/${t}`,{headers:{zelidauth:e}})},storageStats(e){return(0,s.Z)().get("/apps/fluxshare/stats",{headers:{zelidauth:e}})},renameFileFolder(e,t,a){return(0,s.Z)().get(`/apps/fluxshare/rename/${t}/${a}`,{headers:{zelidauth:e}})},appPrice(e){return(0,s.Z)().post("/apps/calculateprice",JSON.stringify(e))},appPriceUSDandFlux(e){return(0,s.Z)().post("/apps/calculatefiatandfluxprice",JSON.stringify(e))},appRegistrationVerificaiton(e){return(0,s.Z)().post("/apps/verifyappregistrationspecifications",JSON.stringify(e))},appUpdateVerification(e){return(0,s.Z)().post("/apps/verifyappupdatespecifications",JSON.stringify(e))},getAppMonitoring(e,t){const a={headers:{zelidauth:e}};return(0,s.Z)().get(`/apps/appmonitor/${t}`,a)},startAppMonitoring(e,t){const a={headers:{zelidauth:e}};return t?(0,s.Z)().get(`/apps/startmonitoring/${t}`,a):(0,s.Z)().get("/apps/startmonitoring",a)},stopAppMonitoring(e,t,a){const i={headers:{zelidauth:e}};return t&&a?(0,s.Z)().get(`/apps/stopmonitoring/${t}/${a}`,i):t?(0,s.Z)().get(`/apps/stopmonitoring/${t}`,i):a?(0,s.Z)().get(`/apps/stopmonitoring?deletedata=${a}`,i):(0,s.Z)().get("/apps/stopmonitoring",i)},justAPI(){return(0,s.Z)()}}},51136:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var s=a(80914);const i={listFluxNodes(){return(0,s.Z)().get("/daemon/listzelnodes")},fluxnodeCount(){return(0,s.Z)().get("/daemon/getzelnodecount")},blockReward(){return(0,s.Z)().get("/daemon/getblocksubsidy")}}},39055:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var s=a(80914);const i={softUpdateFlux(e){return(0,s.Z)().get("/flux/softupdateflux",{headers:{zelidauth:e}})},softUpdateInstallFlux(e){return(0,s.Z)().get("/flux/softupdatefluxinstall",{headers:{zelidauth:e}})},updateFlux(e){return(0,s.Z)().get("/flux/updateflux",{headers:{zelidauth:e}})},hardUpdateFlux(e){return(0,s.Z)().get("/flux/hardupdateflux",{headers:{zelidauth:e}})},rebuildHome(e){return(0,s.Z)().get("/flux/rebuildhome",{headers:{zelidauth:e}})},updateDaemon(e){return(0,s.Z)().get("/flux/updatedaemon",{headers:{zelidauth:e}})},reindexDaemon(e){return(0,s.Z)().get("/flux/reindexdaemon",{headers:{zelidauth:e}})},updateBenchmark(e){return(0,s.Z)().get("/flux/updatebenchmark",{headers:{zelidauth:e}})},getFluxVersion(){return(0,s.Z)().get("/flux/version")},broadcastMessage(e,t){const a=t,i={headers:{zelidauth:e}};return(0,s.Z)().post("/flux/broadcastmessage",JSON.stringify(a),i)},connectedPeers(){return(0,s.Z)().get(`/flux/connectedpeers?timestamp=${Date.now()}`)},connectedPeersInfo(){return(0,s.Z)().get(`/flux/connectedpeersinfo?timestamp=${Date.now()}`)},incomingConnections(){return(0,s.Z)().get(`/flux/incomingconnections?timestamp=${Date.now()}`)},incomingConnectionsInfo(){return(0,s.Z)().get(`/flux/incomingconnectionsinfo?timestamp=${Date.now()}`)},addPeer(e,t){return(0,s.Z)().get(`/flux/addpeer/${t}`,{headers:{zelidauth:e}})},removePeer(e,t){return(0,s.Z)().get(`/flux/removepeer/${t}`,{headers:{zelidauth:e}})},removeIncomingPeer(e,t){return(0,s.Z)().get(`/flux/removeincomingpeer/${t}`,{headers:{zelidauth:e}})},adjustKadena(e,t,a){return(0,s.Z)().get(`/flux/adjustkadena/${t}/${a}`,{headers:{zelidauth:e}})},adjustRouterIP(e,t){return(0,s.Z)().get(`/flux/adjustrouterip/${t}`,{headers:{zelidauth:e}})},adjustBlockedPorts(e,t){const a={blockedPorts:t},i={headers:{zelidauth:e}};return(0,s.Z)().post("/flux/adjustblockedports",a,i)},adjustAPIPort(e,t){return(0,s.Z)().get(`/flux/adjustapiport/${t}`,{headers:{zelidauth:e}})},adjustBlockedRepositories(e,t){const a={blockedRepositories:t},i={headers:{zelidauth:e}};return(0,s.Z)().post("/flux/adjustblockedrepositories",a,i)},getKadenaAccount(){const e={headers:{"x-apicache-bypass":!0}};return(0,s.Z)().get("/flux/kadena",e)},getRouterIP(){const e={headers:{"x-apicache-bypass":!0}};return(0,s.Z)().get("/flux/routerip",e)},getBlockedPorts(){const e={headers:{"x-apicache-bypass":!0}};return(0,s.Z)().get("/flux/blockedports",e)},getAPIPort(){const e={headers:{"x-apicache-bypass":!0}};return(0,s.Z)().get("/flux/apiport",e)},getBlockedRepositories(){const e={headers:{"x-apicache-bypass":!0}};return(0,s.Z)().get("/flux/blockedrepositories",e)},getMarketPlaceURL(){return(0,s.Z)().get("/flux/marketplaceurl")},getZelid(){const e={headers:{"x-apicache-bypass":!0}};return(0,s.Z)().get("/flux/zelid",e)},getStaticIpInfo(){return(0,s.Z)().get("/flux/staticip")},restartFluxOS(e){const t={headers:{zelidauth:e,"x-apicache-bypass":!0}};return(0,s.Z)().get("/flux/restart",t)},tailFluxLog(e,t){return(0,s.Z)().get(`/flux/tail${e}log`,{headers:{zelidauth:t}})},justAPI(){return(0,s.Z)()},cancelToken(){return s.S}}},85498:function(e){!function(t,a){e.exports=a()}("undefined"!=typeof self&&self,(function(){return function(e){function t(s){if(a[s])return a[s].exports;var i=a[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var a={};return t.m=e,t.c=a,t.d=function(e,a,s){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:s})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t){e.exports=function(e,t,a,s,i,o){var n,r=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(n=e,r=e.default);var c,d="function"==typeof r?r.options:r;if(t&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0),a&&(d.functional=!0),i&&(d._scopeId=i),o?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},d._ssrRegister=c):s&&(c=s),c){var u=d.functional,p=u?d.render:d.beforeCreate;u?(d._injectStyles=c,d.render=function(e,t){return c.call(t),p(e,t)}):d.beforeCreate=p?[].concat(p,c):[c]}return{esModule:n,exports:r,options:d}}},function(e,t,a){"use strict";var s=a(2),i=a(4),o=a(14);t.a={name:"form-wizard",components:{WizardButton:s.a,WizardStep:i.a},props:{title:{type:String,default:"Awesome Wizard"},subtitle:{type:String,default:"Split a complicated flow in multiple steps"},nextButtonText:{type:String,default:"Next"},backButtonText:{type:String,default:"Back"},finishButtonText:{type:String,default:"Finish"},hideButtons:{type:Boolean,default:!1},validateOnBack:Boolean,color:{type:String,default:"#e74c3c"},errorColor:{type:String,default:"#8b0000"},shape:{type:String,default:"circle"},layout:{type:String,default:"horizontal"},stepsClasses:{type:[String,Array],default:""},stepSize:{type:String,default:"md",validator:function(e){return-1!==["xs","sm","md","lg"].indexOf(e)}},transition:{type:String,default:""},startIndex:{type:Number,default:0,validator:function(e){return e>=0}}},provide:function(){return{addTab:this.addTab,removeTab:this.removeTab}},data:function(){return{activeTabIndex:0,currentPercentage:0,maxStep:0,loading:!1,tabs:[]}},computed:{slotProps:function(){return{nextTab:this.nextTab,prevTab:this.prevTab,activeTabIndex:this.activeTabIndex,isLastStep:this.isLastStep,fillButtonStyle:this.fillButtonStyle}},tabCount:function(){return this.tabs.length},isLastStep:function(){return this.activeTabIndex===this.tabCount-1},isVertical:function(){return"vertical"===this.layout},displayPrevButton:function(){return 0!==this.activeTabIndex},stepPercentage:function(){return 1/(2*this.tabCount)*100},progressBarStyle:function(){return{backgroundColor:this.color,width:this.progress+"%",color:this.color}},fillButtonStyle:function(){return{backgroundColor:this.color,borderColor:this.color,color:"white"}},progress:function(){return this.activeTabIndex>0?this.stepPercentage*(2*this.activeTabIndex+1):this.stepPercentage}},methods:{emitTabChange:function(e,t){this.$emit("on-change",e,t),this.$emit("update:startIndex",t)},addTab:function(e){var t=this.$slots.default.indexOf(e.$vnode);e.tabId=""+e.title.replace(/ /g,"")+t,this.tabs.splice(t,0,e),t<this.activeTabIndex+1&&(this.maxStep=t,this.changeTab(this.activeTabIndex+1,t))},removeTab:function(e){var t=this.tabs,a=t.indexOf(e);a>-1&&(a===this.activeTabIndex&&(this.maxStep=this.activeTabIndex-1,this.changeTab(this.activeTabIndex,this.activeTabIndex-1)),a<this.activeTabIndex&&(this.maxStep=this.activeTabIndex-1,this.activeTabIndex=this.activeTabIndex-1,this.emitTabChange(this.activeTabIndex+1,this.activeTabIndex)),t.splice(a,1))},reset:function(){this.maxStep=0,this.tabs.forEach((function(e){e.checked=!1})),this.navigateToTab(0)},activateAll:function(){this.maxStep=this.tabs.length-1,this.tabs.forEach((function(e){e.checked=!0}))},navigateToTab:function(e){var t=this,a=e>this.activeTabIndex;if(e<=this.maxStep){var s=function s(){a&&e-t.activeTabIndex>1?(t.changeTab(t.activeTabIndex,t.activeTabIndex+1),t.beforeTabChange(t.activeTabIndex,s)):(t.changeTab(t.activeTabIndex,e),t.afterTabChange(t.activeTabIndex))};a?this.beforeTabChange(this.activeTabIndex,s):(this.setValidationError(null),s())}return e<=this.maxStep},nextTab:function(){var e=this,t=function(){e.activeTabIndex<e.tabCount-1?(e.changeTab(e.activeTabIndex,e.activeTabIndex+1),e.afterTabChange(e.activeTabIndex)):e.$emit("on-complete")};this.beforeTabChange(this.activeTabIndex,t)},prevTab:function(){var e=this,t=function(){e.activeTabIndex>0&&(e.setValidationError(null),e.changeTab(e.activeTabIndex,e.activeTabIndex-1))};this.validateOnBack?this.beforeTabChange(this.activeTabIndex,t):t()},focusNextTab:function(){var e=Object(o.b)(this.tabs);if(-1!==e&&e<this.tabs.length-1){var t=this.tabs[e+1];t.checked&&Object(o.a)(t.tabId)}},focusPrevTab:function(){var e=Object(o.b)(this.tabs);if(-1!==e&&e>0){var t=this.tabs[e-1].tabId;Object(o.a)(t)}},setLoading:function(e){this.loading=e,this.$emit("on-loading",e)},setValidationError:function(e){this.tabs[this.activeTabIndex].validationError=e,this.$emit("on-error",e)},validateBeforeChange:function(e,t){var a=this;if(this.setValidationError(null),Object(o.c)(e))this.setLoading(!0),e.then((function(e){a.setLoading(!1);var s=!0===e;a.executeBeforeChange(s,t)})).catch((function(e){a.setLoading(!1),a.setValidationError(e)}));else{var s=!0===e;this.executeBeforeChange(s,t)}},executeBeforeChange:function(e,t){this.$emit("on-validate",e,this.activeTabIndex),e?t():this.tabs[this.activeTabIndex].validationError="error"},beforeTabChange:function(e,t){if(!this.loading){var a=this.tabs[e];if(a&&void 0!==a.beforeChange){var s=a.beforeChange();this.validateBeforeChange(s,t)}else t()}},afterTabChange:function(e){if(!this.loading){var t=this.tabs[e];t&&void 0!==t.afterChange&&t.afterChange()}},changeTab:function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=this.tabs[e],i=this.tabs[t];return s&&(s.active=!1),i&&(i.active=!0),a&&this.activeTabIndex!==t&&this.emitTabChange(e,t),this.activeTabIndex=t,this.activateTabAndCheckStep(this.activeTabIndex),!0},tryChangeRoute:function(e){this.$router&&e.route&&this.$router.push(e.route)},checkRouteChange:function(e){var t=-1,a=this.tabs.find((function(a,s){var i=a.route===e;return i&&(t=s),i}));if(a&&!a.active){var s=t>this.activeTabIndex;this.navigateToTab(t,s)}},deactivateTabs:function(){this.tabs.forEach((function(e){e.active=!1}))},activateTab:function(e){this.deactivateTabs();var t=this.tabs[e];t&&(t.active=!0,t.checked=!0,this.tryChangeRoute(t))},activateTabAndCheckStep:function(e){this.activateTab(e),e>this.maxStep&&(this.maxStep=e),this.activeTabIndex=e},initializeTabs:function(){this.tabs.length>0&&0===this.startIndex&&this.activateTab(this.activeTabIndex),this.startIndex<this.tabs.length?this.activateTabAndCheckStep(this.startIndex):window.console.warn("Prop startIndex set to "+this.startIndex+" is greater than the number of tabs - "+this.tabs.length+". Make sure that the starting index is less than the number of tabs registered")}},mounted:function(){this.initializeTabs()},watch:{"$route.path":function(e){this.checkRouteChange(e)}}}},function(e,t,a){"use strict";function s(e){a(10)}var i=a(3),o=a(11),n=a(0),r=s,l=n(i.a,o.a,!1,r,null,null);t.a=l.exports},function(e,t,a){"use strict";t.a={}},function(e,t,a){"use strict";function s(e){a(12)}var i=a(5),o=a(13),n=a(0),r=s,l=n(i.a,o.a,!1,r,null,null);t.a=l.exports},function(e,t,a){"use strict";t.a={name:"wizard-step",props:{tab:{type:Object,default:function(){}},transition:{type:String,default:""},index:{type:Number,default:0}},computed:{iconActiveStyle:function(){return{backgroundColor:this.tab.color}},stepCheckedStyle:function(){return{borderColor:this.tab.color}},errorStyle:function(){return{borderColor:this.tab.errorColor,backgroundColor:this.tab.errorColor}},stepTitleStyle:function(){return{color:this.tab.validationError?this.tab.errorColor:this.tab.color}},isStepSquare:function(){return"square"===this.tab.shape},isTabShape:function(){return"tab"===this.tab.shape}}}},function(e,t,a){"use strict";t.a={name:"tab-content",props:{title:{type:String,default:""},icon:{type:String,default:""},beforeChange:{type:Function},afterChange:{type:Function},route:{type:[String,Object]},additionalInfo:{type:Object,default:function(){}}},inject:["addTab","removeTab"],data:function(){return{active:!1,validationError:null,checked:!1,tabId:""}},computed:{shape:function(){return this.$parent.shape},color:function(){return this.$parent.color},errorColor:function(){return this.$parent.errorColor}},mounted:function(){this.addTab(this)},destroyed:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.removeTab(this)}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(8),i=a(16),o=a(2),n=a(4);a.d(t,"FormWizard",(function(){return s.a})),a.d(t,"TabContent",(function(){return i.a})),a.d(t,"WizardButton",(function(){return o.a})),a.d(t,"WizardStep",(function(){return n.a}));var r={install:function(e){e.component("form-wizard",s.a),e.component("tab-content",i.a),e.component("wizard-button",o.a),e.component("wizard-step",n.a)}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(r),t.default=r},function(e,t,a){"use strict";function s(e){a(9)}var i=a(1),o=a(15),n=a(0),r=s,l=n(i.a,o.a,!1,r,null,null);t.a=l.exports},function(e,t){},function(e,t){},function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement;return(e._self._c||t)("button",{staticClass:"wizard-btn",attrs:{tabindex:"-1",type:"button"}},[e._t("default")],2)},i=[],o={render:s,staticRenderFns:i};t.a=o},function(e,t){},function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{class:{active:e.tab.active}},[a("a",{class:{disabled:!e.tab.checked},attrs:{href:"javascript:void(0)"}},[a("div",{staticClass:"wizard-icon-circle md",class:{checked:e.tab.checked,square_shape:e.isStepSquare,tab_shape:e.isTabShape},style:[e.tab.checked?e.stepCheckedStyle:{},e.tab.validationError?e.errorStyle:{}],attrs:{role:"tab",tabindex:e.tab.checked?0:"",id:"step-"+e.tab.tabId,"aria-controls":e.tab.tabId,"aria-disabled":e.tab.active,"aria-selected":e.tab.active}},[a("transition",{attrs:{name:e.transition,mode:"out-in"}},[e.tab.active?a("div",{staticClass:"wizard-icon-container",class:{square_shape:e.isStepSquare,tab_shape:e.isTabShape},style:[e.tab.active?e.iconActiveStyle:{},e.tab.validationError?e.errorStyle:{}]},[e._t("active-step",[e.tab.icon?a("i",{staticClass:"wizard-icon",class:e.tab.icon}):a("i",{staticClass:"wizard-icon"},[e._v(e._s(e.index+1))])])],2):e._e(),e._v(" "),e.tab.active?e._e():e._t("default",[!e.tab.active&&e.tab.icon?a("i",{staticClass:"wizard-icon",class:e.tab.icon}):e._e(),e._v(" "),e.tab.active||e.tab.icon?e._e():a("i",{staticClass:"wizard-icon"},[e._v(e._s(e.index+1))])])],2)],1),e._v(" "),e._t("title",[a("span",{staticClass:"stepTitle",class:{active:e.tab.active,has_error:e.tab.validationError},style:e.tab.active?e.stepTitleStyle:{}},[e._v("\n            "+e._s(e.tab.title)+"\n      ")])])],2)])},i=[],o={render:s,staticRenderFns:i};t.a=o},function(e,t,a){"use strict";function s(){return document.activeElement.id}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=s();return e.findIndex((function(e){return e.tabId===t}))}function o(e){document.getElementById(e).focus()}function n(e){return e.then&&"function"==typeof e.then}t.b=i,t.a=o,t.c=n},function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vue-form-wizard",class:[e.stepSize,{vertical:e.isVertical}],on:{keyup:[function(t){return"button"in t||!e._k(t.keyCode,"right",39,t.key)?"button"in t&&2!==t.button?null:void e.focusNextTab(t):null},function(t){return"button"in t||!e._k(t.keyCode,"left",37,t.key)?"button"in t&&0!==t.button?null:void e.focusPrevTab(t):null}]}},[a("div",{staticClass:"wizard-header"},[e._t("title",[a("h4",{staticClass:"wizard-title"},[e._v(e._s(e.title))]),e._v(" "),a("p",{staticClass:"category"},[e._v(e._s(e.subtitle))])])],2),e._v(" "),a("div",{staticClass:"wizard-navigation"},[e.isVertical?e._e():a("div",{staticClass:"wizard-progress-with-circle"},[a("div",{staticClass:"wizard-progress-bar",style:e.progressBarStyle})]),e._v(" "),a("ul",{staticClass:"wizard-nav wizard-nav-pills",class:e.stepsClasses,attrs:{role:"tablist"}},[e._l(e.tabs,(function(t,s){return e._t("step",[a("wizard-step",{attrs:{tab:t,"step-size":e.stepSize,transition:e.transition,index:s},nativeOn:{click:function(t){e.navigateToTab(s)},keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.navigateToTab(s)}}})],{tab:t,index:s,navigateToTab:e.navigateToTab,stepSize:e.stepSize,transition:e.transition})}))],2),e._v(" "),a("div",{staticClass:"wizard-tab-content"},[e._t("default",null,null,e.slotProps)],2)]),e._v(" "),e.hideButtons?e._e():a("div",{staticClass:"wizard-card-footer clearfix"},[e._t("footer",[a("div",{staticClass:"wizard-footer-left"},[e.displayPrevButton?a("span",{attrs:{role:"button",tabindex:"0"},on:{click:e.prevTab,keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.prevTab(t)}}},[e._t("prev",[a("wizard-button",{style:e.fillButtonStyle,attrs:{disabled:e.loading}},[e._v("\n              "+e._s(e.backButtonText)+"\n            ")])],null,e.slotProps)],2):e._e(),e._v(" "),e._t("custom-buttons-left",null,null,e.slotProps)],2),e._v(" "),a("div",{staticClass:"wizard-footer-right"},[e._t("custom-buttons-right",null,null,e.slotProps),e._v(" "),e.isLastStep?a("span",{attrs:{role:"button",tabindex:"0"},on:{click:e.nextTab,keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.nextTab(t)}}},[e._t("finish",[a("wizard-button",{style:e.fillButtonStyle},[e._v("\n              "+e._s(e.finishButtonText)+"\n            ")])],null,e.slotProps)],2):a("span",{attrs:{role:"button",tabindex:"0"},on:{click:e.nextTab,keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.nextTab(t)}}},[e._t("next",[a("wizard-button",{style:e.fillButtonStyle,attrs:{disabled:e.loading}},[e._v("\n            "+e._s(e.nextButtonText)+"\n           ")])],null,e.slotProps)],2)],2)],null,e.slotProps)],2)])},i=[],o={render:s,staticRenderFns:i};t.a=o},function(e,t,a){"use strict";var s=a(6),i=a(17),o=a(0),n=o(s.a,i.a,!1,null,null,null);t.a=n.exports},function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:e.active,expression:"active"}],staticClass:"wizard-tab-container",attrs:{role:"tabpanel",id:e.tabId,"aria-hidden":!e.active,"aria-labelledby":"step-"+e.tabId}},[e._t("default",null,{active:e.active})],2)},i=[],o={render:s,staticRenderFns:i};t.a=o}])}))},20134:(e,t,a)=>{"use strict";e.exports=a.p+"img/Stripe.svg"},36547:(e,t,a)=>{"use strict";e.exports=a.p+"img/PayPal.png"}}]);